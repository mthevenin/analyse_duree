<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Variables dynamiques</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./discret.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"><strong>ANALYSE DES DUREES 2022</strong></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mthevenin/analyse_duree"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
                  <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
              </div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Variables dynamiques</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true"><strong>Données et théorie</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Donnees.html" class="sidebar-item-text sidebar-link">Les Données</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Theorie.html" class="sidebar-item-text sidebar-link">La théorie</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true"><strong>Méthodes non paramétriques</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fsurvie.html" class="sidebar-item-text sidebar-link">Les fonctions de survie</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comp_fsurvie.html" class="sidebar-item-text sidebar-link">Tests de comparaison</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true"><strong>Modèles à risques proportionnels</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_mod.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cox.html" class="sidebar-item-text sidebar-link">Modèle de Cox</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discret.html" class="sidebar-item-text sidebar-link">Modèle temps discret</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamiques.html" class="sidebar-item-text sidebar-link active">Variables dynamiques</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true"><strong>Compléments</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  paramétrique.qmd
  </li>
          <li class="sidebar-item">
  concurrent.qmd
  </li>
          <li class="sidebar-item">
  cure.qmd
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Plan</h2>
   
  <ul>
  <li><a href="#facteur-dynamique-traitée-de-manière-fixe" id="toc-facteur-dynamique-traitée-de-manière-fixe" class="nav-link active" data-scroll-target="#facteur-dynamique-traitée-de-manière-fixe">Facteur dynamique traitée de manière fixe</a></li>
  <li><a href="#estimation-avec-une-variable-dynamique" id="toc-estimation-avec-une-variable-dynamique" class="nav-link" data-scroll-target="#estimation-avec-une-variable-dynamique">Estimation avec une variable dynamique</a>
  <ul class="collapse">
  <li><a href="#modèle-de-cox" id="toc-modèle-de-cox" class="nav-link" data-scroll-target="#modèle-de-cox">Modèle de Cox</a></li>
  <li><a href="#modèle-à-temps-discret" id="toc-modèle-à-temps-discret" class="nav-link" data-scroll-target="#modèle-à-temps-discret">Modèle à temps discret</a></li>
  </ul></li>
  <li><a href="#précautions" id="toc-précautions" class="nav-link" data-scroll-target="#précautions">Précautions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Variables dynamiques</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>Cette section sera principalement traitée par l’exemple, et on ne s’intéressera qu’aux variables de type discrète.</p>
<ul>
<li>Dans un modèle de durée, une variable dynamique peut-être appréhendée comme une intéraction entre la durée et une variable quantitative.</li>
<li>Pour un modèle de Cox, l’hypothèse de risque proportionnel ne peut donc pas être testée sur la variable d’origine.</li>
<li>Ne pas tenir compte du caractère dynamique d’une dimension peut conduire à des interprétations erronées.</li>
<li>Warning: La façon de modéliser les dimensions dynamiques en analyse des durées peut conduire à des biais de causalité, en particulier dans les sciences sociales, en omettant les effets d’anticipation. C’est une situation classique avec des covariables dynamiques de type discrètes. Les techniques standards ne peuvent modéliser que des effets d’adaptation : la cause - observée - précède l’effet.</li>
</ul>
<section id="facteur-dynamique-traitée-de-manière-fixe" class="level1">
<h1>Facteur dynamique traitée de manière fixe</h1>
<p>On reprend l’exemple sur malformation cardiaque, en ajoutant la variable relative à la greffe : la transplantation réduit-elle le risque journalier de décéder (ou augmente la durée de survie).<br>
On a dans la base 2 variables: une variable binaire pour savoir si l’individu à été greffé, <strong>tranplant</strong>, et une variable continue tronquée donnant la durée en jour jusqu’à la greffe greffe (0 si pas de greffe), <strong>wait</strong>.<br>
<br> On va dans un premier temps estimer le modèle (de Cox) avec la variable fixe <em>transplant</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>Cox regression <span class="sc">--</span> Efron method <span class="cf">for</span> ties</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>No. of subjects <span class="ot">=</span>          <span class="dv">103</span>                  Number of obs    <span class="ot">=</span>         <span class="dv">103</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>No. of failures <span class="ot">=</span>           <span class="dv">75</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>Time at risk    <span class="ot">=</span>        <span class="dv">31938</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>                                                LR <span class="fu">chi2</span>(<span class="dv">4</span>)       <span class="ot">=</span>       <span class="fl">49.81</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>Log likelihood  <span class="ot">=</span>   <span class="sc">-</span><span class="fl">273.21499</span>                  Prob <span class="sc">&gt;</span> chi2      <span class="ot">=</span>      <span class="fl">0.0000</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="sc">------------------------------------------------------------------------------</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>          _t <span class="sc">|</span>      Coef.   Std. Err.      z    P<span class="sc">&gt;</span><span class="er">|</span>z<span class="sc">|</span>     [<span class="dv">95</span>% Conf. Interval]</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------+----------------------------------------------------------------</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">|</span>    <span class="sc">-</span><span class="fl">0.0909</span>     <span class="fl">0.0659</span>    <span class="sc">-</span><span class="fl">1.38</span>   <span class="fl">0.168</span>      <span class="sc">-</span><span class="fl">0.2201</span>      <span class="fl">0.0383</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>         age <span class="sc">|</span>     <span class="fl">0.0579</span>     <span class="fl">0.0147</span>     <span class="fl">3.95</span>   <span class="fl">0.000</span>       <span class="fl">0.0292</span>      <span class="fl">0.0866</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>   <span class="fl">1.</span>surgery <span class="sc">|</span>    <span class="sc">-</span><span class="fl">0.6547</span>     <span class="fl">0.4475</span>    <span class="sc">-</span><span class="fl">1.46</span>   <span class="fl">0.143</span>      <span class="sc">-</span><span class="fl">1.5318</span>      <span class="fl">0.2224</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fl">1.</span>transplant <span class="sc">|</span>    <span class="sc">-</span><span class="fl">1.6484</span>     <span class="fl">0.2792</span>    <span class="sc">-</span><span class="fl">5.90</span>   <span class="fl">0.000</span>      <span class="sc">-</span><span class="fl">2.1957</span>     <span class="sc">-</span><span class="fl">1.1011</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="sc">------------------------------------------------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Interprétation: traité de manière fixe, la greffe réduit le risque journalier de décéder de près de -81%: <span class="math inline">\((1-e^{-1.65})\times100\)</span></p>
<p>Au niveau des données le modèle à été estimé, pour une personne greffée, à partir de ce mapping:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">+----------------------------------------------------------------------------+</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> id   year   age   surgery  transplant  wait   _d          _t         _t0 <span class="sc">|</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">--------------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">1</span>           <span class="dv">0</span> <span class="sc">|</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">2</span>           <span class="dv">1</span> <span class="sc">|</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">3</span>           <span class="dv">2</span> <span class="sc">|</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">5</span>           <span class="dv">3</span> <span class="sc">|</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>   <span class="fl">5.0999999</span>           <span class="dv">5</span> <span class="sc">|</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">--------------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">6</span>   <span class="fl">5.0999999</span> <span class="sc">|</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">8</span>           <span class="dv">6</span> <span class="sc">|</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">9</span>           <span class="dv">8</span> <span class="sc">|</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">12</span>           <span class="dv">9</span> <span class="sc">|</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">16</span>          <span class="dv">12</span> <span class="sc">|</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">--------------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">17</span>          <span class="dv">16</span> <span class="sc">|</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">18</span>          <span class="dv">17</span> <span class="sc">|</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">21</span>          <span class="dv">18</span> <span class="sc">|</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">28</span>          <span class="dv">21</span> <span class="sc">|</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">30</span>          <span class="dv">28</span> <span class="sc">|</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">--------------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">32</span>          <span class="dv">30</span> <span class="sc">|</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">35</span>          <span class="dv">32</span> <span class="sc">|</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">36</span>          <span class="dv">35</span> <span class="sc">|</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">37</span>          <span class="dv">36</span> <span class="sc">|</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">39</span>          <span class="dv">37</span> <span class="sc">|</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">--------------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">40</span>          <span class="dv">39</span> <span class="sc">|</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">43</span>          <span class="dv">40</span> <span class="sc">|</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">45</span>          <span class="dv">43</span> <span class="sc">|</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">50</span>          <span class="dv">45</span> <span class="sc">|</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">51</span>          <span class="dv">50</span> <span class="sc">|</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">--------------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">53</span>          <span class="dv">51</span> <span class="sc">|</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>          <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">1</span>          <span class="dv">58</span>          <span class="dv">53</span> <span class="sc">|</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+--------------------------------------------------------------------------+</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Problème</strong>: une personne est codée greffée avant le jour de la transplantation. L’effet causal est donc mal mesuré si sa dimension temporelle a été ignorée, ici le jour exact de la greffe. C’est le même principe pour l’évènement, la personne est codée décédée (1) le jour du décès, et vivante avant (0).<br>
<br></p>
</section>
<section id="estimation-avec-une-variable-dynamique" class="level1">
<h1>Estimation avec une variable dynamique</h1>
<p>Il convient donc de modifier l’information avec le délai d’attente jusqu’à la greffe. Quel que soit le logiciel, le principe de construction de la variable suit la logique suivante:<br>
<span class="math inline">\(tvc = transplant\)</span> , si <span class="math inline">\(transplant=1\)</span> et <span class="math inline">\(_t&lt;wait\)</span> alors <span class="math inline">\(tvc=0\)</span>.</p>
<section id="modèle-de-cox" class="level3">
<h3 class="anchored" data-anchor-id="modèle-de-cox">Modèle de Cox</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+---------------------------------------------------------------------+</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> id   year   age   surgery   tvc   wait   _d          _t         _t0 <span class="sc">|</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">---------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">1</span>           <span class="dv">0</span> <span class="sc">|</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">2</span>           <span class="dv">1</span> <span class="sc">|</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">3</span>           <span class="dv">2</span> <span class="sc">|</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">5</span>           <span class="dv">3</span> <span class="sc">|</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">12</span>    <span class="dv">0</span>   <span class="fl">5.0999999</span>           <span class="dv">5</span> <span class="sc">|</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">---------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">6</span>   <span class="fl">5.0999999</span> <span class="sc">|</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">8</span>           <span class="dv">6</span> <span class="sc">|</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">12</span>    <span class="dv">0</span>           <span class="dv">9</span>           <span class="dv">8</span> <span class="sc">|</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">12</span>           <span class="dv">9</span> <span class="sc">|</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">16</span>          <span class="dv">12</span> <span class="sc">|</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">---------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">17</span>          <span class="dv">16</span> <span class="sc">|</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">18</span>          <span class="dv">17</span> <span class="sc">|</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">21</span>          <span class="dv">18</span> <span class="sc">|</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">28</span>          <span class="dv">21</span> <span class="sc">|</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">30</span>          <span class="dv">28</span> <span class="sc">|</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">---------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">32</span>          <span class="dv">30</span> <span class="sc">|</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">35</span>          <span class="dv">32</span> <span class="sc">|</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">36</span>          <span class="dv">35</span> <span class="sc">|</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">37</span>          <span class="dv">36</span> <span class="sc">|</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">39</span>          <span class="dv">37</span> <span class="sc">|</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">---------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">40</span>          <span class="dv">39</span> <span class="sc">|</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">43</span>          <span class="dv">40</span> <span class="sc">|</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">45</span>          <span class="dv">43</span> <span class="sc">|</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">50</span>          <span class="dv">45</span> <span class="sc">|</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">51</span>          <span class="dv">50</span> <span class="sc">|</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">---------------------------------------------------------------------</span><span class="er">|</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">0</span>          <span class="dv">53</span>          <span class="dv">51</span> <span class="sc">|</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">10</span>     <span class="dv">68</span>    <span class="dv">42</span>         <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">12</span>    <span class="dv">1</span>          <span class="dv">58</span>          <span class="dv">53</span> <span class="sc">|</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+---------------------------------------------------------------------+</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Maintenant, si on estime le modèle avec cette variable dynamique qui indique clairement le moment de la transition (jour de la greffe):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Cox regression <span class="sc">--</span> Efron method <span class="cf">for</span> ties</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>No. of subjects <span class="ot">=</span>          <span class="dv">103</span>                  Number of obs    <span class="ot">=</span>       <span class="dv">3</span>,<span class="dv">668</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>No. of failures <span class="ot">=</span>           <span class="dv">75</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>Time at risk    <span class="ot">=</span>      <span class="fl">31938.1</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                                                LR <span class="fu">chi2</span>(<span class="dv">4</span>)       <span class="ot">=</span>       <span class="fl">17.70</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>Log likelihood  <span class="ot">=</span>   <span class="sc">-</span><span class="fl">289.27058</span>                  Prob <span class="sc">&gt;</span> chi2      <span class="ot">=</span>      <span class="fl">0.0014</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="sc">------------------------------------------------------------------------------</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>          _t <span class="sc">|</span>      Coef.   Std. Err.      z    P<span class="sc">&gt;</span><span class="er">|</span>z<span class="sc">|</span>     [<span class="dv">95</span>% Conf. Interval]</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------+----------------------------------------------------------------</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">|</span>  <span class="sc">-</span>.<span class="dv">1202612</span>   .<span class="dv">0673414</span>    <span class="sc">-</span><span class="fl">1.79</span>   <span class="fl">0.074</span>     <span class="sc">-</span>.<span class="dv">252248</span>    .<span class="dv">0117256</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>         age <span class="sc">|</span>   .<span class="dv">0304498</span>   .<span class="dv">0138998</span>     <span class="fl">2.19</span>   <span class="fl">0.028</span>     .<span class="dv">0032068</span>    .<span class="dv">0576929</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>   <span class="fl">1.</span>surgery <span class="sc">|</span>  <span class="sc">-</span>.<span class="dv">9829386</span>   .<span class="dv">4365524</span>    <span class="sc">-</span><span class="fl">2.25</span>   <span class="fl">0.024</span>    <span class="sc">-</span><span class="fl">1.838566</span>   <span class="sc">-</span>.<span class="dv">1273116</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>       <span class="fl">1.</span>tvc <span class="sc">|</span>  <span class="sc">-</span>.<span class="dv">0826682</span>   .<span class="dv">3047751</span>    <span class="sc">-</span><span class="fl">0.27</span>   <span class="fl">0.786</span>    <span class="sc">-</span>.<span class="dv">6800165</span>      .<span class="dv">51468</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="sc">------------------------------------------------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La greffe n’a plus d’impact sur la survie des individus, tout du moins elle ne l’augmente pas. Cela ne signifie pas non plus que des personnes ont pu être “sauvée” grâce à cette opération (ou plutôt leur durée de vie augmentée), mais des complications lors de l’opération ou post-opératoires ou des problèmes de rejet du greffon, surtout à une époque où ces techniques étaient à leurs balbutiements, ont été également la source d’une mortalité peut-être un peu plus précoce que si la personne n’avait pas été greffée.</p>
<p><strong>Solutions avec les logiciels</strong> :</p>
<div class="alert alert-info">
<ul>
<li><strong>Sas</strong>: la base n’est pas modifiée et la création de la TVC est faite “en aveugle” dans la procédure <code>phreg</code>, après l’instruction <code>model</code>.</li>
<li><strong>R</strong>, Stata, Python: la base doit être transformée en format long aux temps d’évènement (<code>survsplit</code> avec R, <code>stsplit</code> avec Stata) avant la création de la variable dynamique.</li>
</ul>
</div>
</section>
<section id="modèle-à-temps-discret" class="level3">
<h3 class="anchored" data-anchor-id="modèle-à-temps-discret">Modèle à temps discret</h3>
<p>Même principe pour la construction de la variable dynamique. Pour rappel l’échelle temporelle est le mois, et on a créé en amont une variable qui transforme les jour d’attente en mois (<em>mwait</em>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="sc">+---------------------------------------------+</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> id   year   age   surgery   tvc   mwait   t <span class="sc">|</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span><span class="sc">---------------------------------------------</span><span class="er">|</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">13</span>     <span class="dv">68</span>    <span class="dv">54</span>         <span class="dv">0</span>     <span class="dv">0</span>       <span class="dv">2</span>   <span class="dv">1</span> <span class="sc">|</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">13</span>     <span class="dv">68</span>    <span class="dv">54</span>         <span class="dv">0</span>     <span class="dv">1</span>       <span class="dv">2</span>   <span class="dv">2</span> <span class="sc">|</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span> <span class="dv">13</span>     <span class="dv">68</span>    <span class="dv">54</span>         <span class="dv">0</span>     <span class="dv">1</span>       <span class="dv">2</span>   <span class="dv">3</span> <span class="sc">|</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+---------------------------------------------+</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>Logistic regression                             Number of obs     <span class="ot">=</span>      <span class="dv">1</span>,<span class="dv">127</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                                                LR <span class="fu">chi2</span>(<span class="dv">7</span>)        <span class="ot">=</span>      <span class="fl">90.73</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                                                Prob <span class="sc">&gt;</span> chi2       <span class="ot">=</span>     <span class="fl">0.0000</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>Log likelihood <span class="ot">=</span> <span class="sc">-</span><span class="fl">230.32152</span>                     Pseudo R2         <span class="ot">=</span>     <span class="fl">0.1645</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="sc">------------------------------------------------------------------------------</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>           e <span class="sc">|</span>      Coef.   Std. Err.      z    P<span class="sc">&gt;</span><span class="er">|</span>z<span class="sc">|</span>     [<span class="dv">95</span>% Conf. Interval]</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------+----------------------------------------------------------------</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>           t <span class="sc">|</span>   <span class="sc">-</span>.<span class="dv">365048</span>   .<span class="dv">0915105</span>    <span class="sc">-</span><span class="fl">3.99</span>   <span class="fl">0.000</span>    <span class="sc">-</span>.<span class="dv">5444052</span>   <span class="sc">-</span>.<span class="dv">1856907</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>          t2 <span class="sc">|</span>   .<span class="dv">0139226</span>   .<span class="dv">0053256</span>     <span class="fl">2.61</span>   <span class="fl">0.009</span>     .<span class="dv">0034846</span>    .<span class="dv">0243606</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>          t3 <span class="sc">|</span>   <span class="sc">-</span>.<span class="dv">000162</span>   .<span class="dv">0000815</span>    <span class="sc">-</span><span class="fl">1.99</span>   <span class="fl">0.047</span>    <span class="sc">-</span>.<span class="dv">0003217</span>   <span class="sc">-</span><span class="fl">2.27e-06</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        year <span class="sc">|</span>  <span class="sc">-</span>.<span class="dv">1324928</span>   .<span class="dv">0737516</span>    <span class="sc">-</span><span class="fl">1.80</span>   <span class="fl">0.072</span>    <span class="sc">-</span>.<span class="dv">2770433</span>    .<span class="dv">0120577</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>         age <span class="sc">|</span>    .<span class="dv">033829</span>   .<span class="dv">0149503</span>     <span class="fl">2.26</span>   <span class="fl">0.024</span>      .<span class="dv">004527</span>    .<span class="dv">0631311</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>     surgery <span class="sc">|</span>  <span class="sc">-</span><span class="fl">1.007795</span>   .<span class="dv">4490177</span>    <span class="sc">-</span><span class="fl">2.24</span>   <span class="fl">0.025</span>    <span class="sc">-</span><span class="fl">1.887854</span>   <span class="sc">-</span>.<span class="dv">1277365</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>         tvc <span class="sc">|</span>  <span class="sc">-</span>.<span class="dv">0543011</span>   .<span class="dv">3114096</span>    <span class="sc">-</span><span class="fl">0.17</span>   <span class="fl">0.862</span>    <span class="sc">-</span>.<span class="dv">6646528</span>    .<span class="dv">5560505</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="sc">------------------------------------------------------------------------------</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>Remarque <span class="sc">:</span> la constante n’est pas reportée, les valeurs de la référence</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>n’ayant pas grand  <span class="fu">sens</span> (année et âge à <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="précautions" class="level1">
<h1>Précautions</h1>
<ul>
<li>Rappel: la cause doit précède l’effet.</li>
<li>Lorsque l’évènement étudié n’est pas intrinsèquement de type absorbant comme le décès, la « cause » peut se manifester ou plutôt être observée après la survenue de l’évènement étudié.Les modèles de durée standards ne peuvent pas gérer ces situations car l’observation sort du risque après la survenue de l’évènement. Même si la cause est bien mesurée avant l’évènement d’intérêt, un « choc » n’est peut-être qu’un point final d’un processus causal antérieur: une séparation est rarement un évènement ponctuel, une phase plus ou moins longue de mésentente dans le couple lui a vraisemblablement préexister. La datation du début d’un processus causal n’est donc pas toujours facile à mesurer.<br>
</li>
<li><strong>Logique d’adaptation</strong>: la « cause » identifiée est mesurée avant l’évènement étudié.</li>
<li><strong>Logique d’anticipation</strong>: la « cause » identifiée est mesurée après l’occurrence de l’évènement étudié. L’origine causale est bien antérieure à l’évènement, mais elle n’est pas directement observable.<br>
</li>
<li>Lorsque les variables dynamiques sont de type quantitatives/continues, le problème on doit aussi considérer avec des phénomènes d’anticipation sur les valeurs attendues de ces variables, observées postérieurement à l’évènement étudié. On peut introduire des « lags » dans le modèle pour saisir ce phénomène : par exemple <span class="math inline">\(x_t= x_{t+1}\)</span>. Ce décalage des durées d’occurrence peut être aussi introduite pour les variables discrètes (naissance d’un enfant par exemple).</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./discret.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Modèle temps discret</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Marc Thévenin - Ined-Sms - Août 2022</div>
  </div>
</footer>



</body></html>