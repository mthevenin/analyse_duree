<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>index.knit</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>










<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Analyse des durées</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Données et théorie
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Introduction.html">Introduction</a>
    </li>
    <li>
      <a href="Donnees.html">Les Données biographiques</a>
    </li>
    <li>
      <a href="Theorie.html">Eléments théoriques</a>
    </li>
  </ul>
</li>
<li>
  <a href="nonparam.html">Méthodes non paramétriques</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Modèles à risques proportionnels
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Intro_mod.html">Intro</a>
    </li>
    <li>
      <a href="cox.html">Cox</a>
    </li>
    <li>
      <a href="discret.html">Méthode à temps discret</a>
    </li>
    <li>
      <a href="dynamiques.html">Variables dynamiques</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Compléments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="param.html">Modèles paramétriques</a>
    </li>
    <li>
      <a href="concurrents.html">Risques concurrents</a>
    </li>
    <li>
      <a href="cure.html">Fragilité et Immunité</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Programmation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="SAS.html">SAS</a>
    </li>
    <li>
      <a href="Stata.html">Stata</a>
    </li>
    <li>
      <a href="R.html">R</a>
    </li>
    <li>
      <a href="Python.html">Python</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<p><br> <strong>FORMATION INED 2022: ANALYSE DES DUREES</strong><br />
<br></p>
<p><span style="color:red"><strong>WARNING 17-05-2022: test proportionnalité des risques (test Grambsch-Therneau) entre les versions 2 et 3 de la librairie survival</strong><br />
Les précédentes versions de la formation utilisaient la version de <strong><code>survival</code></strong>. La procédure proposée pour tester la constance des rapports de risques était le test dits de <em>Grambsch-Therneau</em> exécuté avec la fonction <strong><code>cox.zph()</code></strong>. Les résultats étaientt identiques à ceux exécutés avec SAS, Stata et Python. Avec la nouvelle version de <strong><code>survival</code></strong> les résultats affichés par le tests sont différents, et pas qu’un peu. Je ne suis pas en mesure de l’expliquer à ce jour, mais un indice est donné dans une note de l’aide de la fonction: “<em>In versions of the package before survival3.0 the function computed a fast approximation to the score test. Later versions compute the actual score test</em>” (<a href="https://runebook.dev/en/docs/r/library/survival/html/cox.zph"><strong>lien</strong></a>).<br />
<br> Je n’ai pas le temps de modifier en profondeur le document (et le tp de la formation). A très court terme:</p>
<ul>
<li><span style="color:red">La section sur R sera exécuté avec les version 2.44-1 de Survival pour garder des résulats homogènes entre les applications. Une procédure d’installation de cette version est donnée.</li>
<li><span style="color:red">Pour les personnes qui chargeront la version 3 de survival, la marche a suivre pour tester différemment l’hypothèse, via une regression linéaire entre les résidus de Schoenfeld et une fonction de la durée sera ajoutée. Elle permet d’avoir des résultats comparables entre les différents logiciels. C’est un peu plus long que la seule utilisation de la fonction <code>cox.zph</code>, mais pas très compliqué non plus (dans un premier temps avec seulement la fonction <span class="math inline">\(f(t)=t\)</span>. </span></li>
</ul>
<p><br></p>
<p><strong>MAJ 11-05-22</strong>:</p>
<ul>
<li>Document ok pour cette version 2022. Je n’ai toujours pas eu le temps de faire la partie sur la fragilité et l’immunité, reportée donc à une date ultérieure, je l’espère en 2023.</li>
<li>Le problème d’accès aux rubriques à été réglé.</li>
<li>Lien vers pdf: <a href="https://github.com/mthevenin/analyse_duree/blob/main/ANALYSE%20DES%20DUREES%20-%202022.pdf"><strong>lien</strong></a></li>
</ul>
<p><br></p>
<p><strong>Bibliographie</strong></p>
<ul>
<li><strong>Cours de Gilbert Colletaz (version 2016)</strong>: <a href="https://docplayer.fr/69359088-Modeles-de-survie-notes-de-cours-master-2-esa-voies-professionnelle-et-recherche-gilbert-colletaz.html"><strong>lien</strong></a></li>
<li><strong>Document de travail Insee de Simon Quantin (2019)</strong>: <a href="https://www.insee.fr/fr/statistiques/3695681"><strong>lien</strong></a> [avec version 2 de la librarie <em><code>survival</code></em>]</li>
</ul>
<p><br> <em>Liens Ined</em></p>
<ul>
<li><strong>Site de l’Ined</strong>: <a href="https://www.ined.fr" class="uri">https://www.ined.fr</a><br />
</li>
<li><strong>Site du Service Méthodes Statistiques</strong>: <a href="https://sms.site.ined.fr" class="uri">https://sms.site.ined.fr</a><br />
</li>
<li><strong>Site des Rencontres de Statistique Appliquée</strong>: <a href="https://statapp.site.ined.fr" class="uri">https://statapp.site.ined.fr</a></li>
<li><strong>Site du séminaire R à l’Usage des Sciences Sociales (RUSS)</strong>: <a href="https://russ.site.ined.fr" class="uri">https://russ.site.ined.fr</a></li>
</ul>
<p><br> <em>Autres supports [<a href="https://github.com/mthevenin" class="uri">https://github.com/mthevenin</a>]</em></p>
<ul>
<li><strong>Visualisation des données avec Stata (2020)</strong>: <a href="https://mthevenin.github.io/stata_fr/index.html" class="uri">https://mthevenin.github.io/stata_fr/index.html</a></li>
<li><strong>Introduction à Stata (2018)</strong>: <a href="https://mthevenin.github.io/formation_stata/" class="uri">https://mthevenin.github.io/formation_stata/</a></li>
<li><strong>Introduction à la regression logistique (v1 2022)</strong>: <a href="https://github.com/mthevenin/intro_logit/blob/main/mod%C3%A8le%20logit%20v1%20-%20final.pdf" class="uri">https://github.com/mthevenin/intro_logit/blob/main/mod%C3%A8le%20logit%20v1%20-%20final.pdf</a></li>
</ul>
<p><br> <a href="mailto:marc.thevenin@ined.fr" class="uri">mailto:marc.thevenin@ined.fr</a> - Service Méthodes Statistiques - Ined - <br> Support réalisé avec <a href="href:https://www.rstudio.com">Rstudio</a> - librairies <strong><em>Rmarkdown</em></strong>, <strong><em>Knitr</em></strong><br />
Langages utilisés pour la partie programmation: <a href="https://www.r-project.org/">R</a> - <a href="https://www.stata.com/">Stata</a> - <a href="https://www.sas.com/fr_fr/home.html">Sas</a> - <a href="https://www.python.org/">Python</a></p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
