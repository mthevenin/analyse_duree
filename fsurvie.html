<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Les fonctions de survie</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./comp_fsurvie.html" rel="next">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"><strong>ANALYSE DES DUREES 2022</strong></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mthevenin/analyse_duree"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
                  <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
              </div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Les fonctions de survie</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true"><strong>Données et théorie</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Donnees.html" class="sidebar-item-text sidebar-link">Les Données</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Theorie.html" class="sidebar-item-text sidebar-link">La théorie</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true"><strong>Méthodes non paramétriques</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fsurvie.html" class="sidebar-item-text sidebar-link active">Les fonctions de survie</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comp_fsurvie.html" class="sidebar-item-text sidebar-link">Tests de comparaison</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true"><strong>Modèles à risques proportionnels</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_mod.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cox.html" class="sidebar-item-text sidebar-link">Modèle de Cox</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discret.html" class="sidebar-item-text sidebar-link">Modèle temps discret</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamiques.html" class="sidebar-item-text sidebar-link">Variables dynamiques</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true"><strong>Compléments</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./parametrique.html" class="sidebar-item-text sidebar-link">Modèles paramétriques</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./concurrent.html" class="sidebar-item-text sidebar-link">Risques concurrents</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./frailty.html" class="sidebar-item-text sidebar-link">Fragilité et immunité</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true"><strong>Programmation</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R.html" class="sidebar-item-text sidebar-link">R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Stata.html" class="sidebar-item-text sidebar-link">Stata</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Sas.html" class="sidebar-item-text sidebar-link">SAS</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Python.html" class="sidebar-item-text sidebar-link">PYTHON</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Plan</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><strong>Introduction</strong></a>
  <ul class="collapse">
  <li><a href="#les-variables-danalyse" id="toc-les-variables-danalyse" class="nav-link" data-scroll-target="#les-variables-danalyse"><strong>Les variables d’analyse</strong></a></li>
  <li><a href="#calcul-de-la-fonction-de-survie" id="toc-calcul-de-la-fonction-de-survie" class="nav-link" data-scroll-target="#calcul-de-la-fonction-de-survie"><strong>Calcul de la fonction de survie</strong></a></li>
  </ul></li>
  <li><a href="#la-méthode-actuarielle" id="toc-la-méthode-actuarielle" class="nav-link" data-scroll-target="#la-méthode-actuarielle"><strong>La méthode actuarielle</strong></a>
  <ul class="collapse">
  <li><a href="#estimation" id="toc-estimation" class="nav-link" data-scroll-target="#estimation">Estimation</a></li>
  <li><a href="#r-stata-sas-python" id="toc-r-stata-sas-python" class="nav-link" data-scroll-target="#r-stata-sas-python">R-Stata-Sas-Python</a></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application">Application</a></li>
  </ul></li>
  <li><a href="#la-méthode-de-kaplan-meier" id="toc-la-méthode-de-kaplan-meier" class="nav-link" data-scroll-target="#la-méthode-de-kaplan-meier"><strong>La méthode de Kaplan-Meier</strong></a>
  <ul class="collapse">
  <li><a href="#estimation-1" id="toc-estimation-1" class="nav-link" data-scroll-target="#estimation-1">Estimation</a></li>
  <li><a href="#r-stata-sas-python-1" id="toc-r-stata-sas-python-1" class="nav-link" data-scroll-target="#r-stata-sas-python-1">R-Stata-Sas-Python</a></li>
  <li><a href="#application-1" id="toc-application-1" class="nav-link" data-scroll-target="#application-1">Application</a></li>
  </ul></li>
  <li><a href="#quantités-associées" id="toc-quantités-associées" class="nav-link" data-scroll-target="#quantités-associées">Quantités associées</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Les fonctions de survie</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>Les méthodes non paramétriques portent généralement sur l’analyse des fonctions de survie (séjour) ou sur celle des fonctions de répartitions, plus rarement sur les mesures d’incidence données par le risque cumulé.<br>
Deux méthodes d’estimations sont proposées : la méthode dite actuarielle et la méthode dite de Kaplan &amp; Meier. Ces deux méthodes sont adaptées à des mesures différentes de la durée : plutôt discrète pour la technique actuarielle et plutôt continue pour Kaplan-Meier (KM). Cela induit un traitement différent de la censure dans l’estimation. La seconde est de très très loin la plus diffusée, surement en raison des tests de comparaison qu’elle est en mesure de fournir.</p>
<section id="introduction" class="level1">
<h1><strong>Introduction</strong></h1>
<p><br></p>
<section id="les-variables-danalyse" class="level2">
<h2 class="anchored" data-anchor-id="les-variables-danalyse"><strong>Les variables d’analyse</strong></h2>
<p>On a un échantillon aléatoire de <span class="math inline">\(n\)</span> individus avec:</p>
<ul>
<li>Des indicateurs de fin d’épisode <span class="math inline">\(e_1,e_2,....,e_k\)</span> avec <span class="math inline">\(e_i=0\)</span> si censure à droite et <span class="math inline">\(e_i=1\)</span> si évènement observé pendant la période d’observation.</li>
<li>Des durées d’exposition au risque <span class="math inline">\(t_1,t_2,....,t_k\)</span> jusqu’à l’évènement ou la censure.</li>
<li>En théorie, il ne peut pas y avoir d’évènement en <span class="math inline">\(t=0\)</span>.</li>
</ul>
<p><br></p>
</section>
<section id="calcul-de-la-fonction-de-survie" class="level2">
<h2 class="anchored" data-anchor-id="calcul-de-la-fonction-de-survie"><strong>Calcul de la fonction de survie</strong></h2>
<p>Rappel: La fonction de survie donne la probabilité que l’évènement survienne après <span class="math inline">\(t_i\)</span>, soit <span class="math inline">\(S(t_i)=P(T&gt;t_i)\)</span>.<br>
Pour survivre en <span class="math inline">\(t_i\)</span>, il faut avoir survécu en <span class="math inline">\(t_{i-1}\)</span>, <span class="math inline">\(t_{i-2}\)</span>, …., <span class="math inline">\(t_{1}\)</span>.<br>
La fonction de survie rapporte donc des probabilités conditionnelles: survivre en <span class="math inline">\(t_i\)</span> conditionnellement au fait d’y avoir survécu avant. Il s’agit donc d’un produit de probabilités:<br>
<br></p>
<p>Soit <span class="math inline">\(d_i=\sum e_i\)</span> le nombre d’évènements observé en <span class="math inline">\(t_i\)</span> et <span class="math inline">\(r_i\)</span> la population encore soumise au risque en <span class="math inline">\(i\)</span>. On peut mesurer l’intensité de l’évènement en <span class="math inline">\(t_i\)</span> en calculant le quotient <span class="math inline">\(q(t_i)=\frac{d_i}{r_i}\)</span>. Si le temps est strictement continu on devrait toujours avoir <span class="math inline">\(q(t_i)=\frac{1}{r_i}\)</span>.</p>
<p><span class="math inline">\(S(t_i) = (1 - \frac{d_i}{r_i})\times{S(t_{i-1})} = S(t_i) = (1 - q(t_i))\times{S(t_{i-1})}\)</span>. En remplaçant <span class="math inline">\(S(t_{i-1})\)</span> par sa valeur: <span class="math inline">\(S(t_i) = (1 - \frac{d_i}{r_i})\times(1 - \frac{d_{i-1}}{r_{i-1}})\times{S(t_{i-2})}\)</span>.<br>
<br> En remplaçant toutes les expressions de la survie jusqu’en <span class="math inline">\(t_0\)</span> (<span class="math inline">\(S(0)=1\)</span>):<br>
<br></p>
<p><span class="math display">\[S(t_i)=\displaystyle \prod_{t_i\leq{k}} (1-q(t_i))\]</span></p>
<p><br></p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Application pour la suite de la formation</strong></p>
<ul>
<li><p>On va analyser le risque de décéder (la survie) de personnes souffrant d’une insuffisance cardiaque. Le début de l’exposition est leur inscription dans un registre d’attente pour une greffe du coeur.</p></li>
<li><p>Les covariables sont dans un premier temps toutes fixes: l’année (<em>year</em>) et l’âge (<em>age</em>) à l’entrée dans le registre, et le fait d’avoir été opéré pour un pontage aorto-coronarien avant l’inscription (<em>surgery</em>). Le début de l’exposition au risque est l’entrée dans le registre, la durée est mesurée en jour (<em>stime</em>). La variable évènement est le décès (<em>died</em>).</p></li>
<li><p>L’introduction d’une dimension dynamique, la greffe, sera donnée par les variable <em>transplant</em> et <em>wait</em>.</p></li>
<li><p>[Mettre liens git avec la base en .csv, .dta, .sas7bdat]</p></li>
</ul>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="la-méthode-actuarielle" class="level1">
<h1><strong>La méthode actuarielle</strong></h1>
<ul>
<li>Estimation sur des intervalles définies par l’utilisateur.</li>
<li>Approche dite «continue», estimation en milieu d’intevalle.</li>
<li>Méthode apropriée lorsque la durée est mesurée de manière discrète.</li>
<li>Méthode, hélas, de plus en plus abandonnée dans les sciences sociales</li>
</ul>
<section id="estimation" class="level2">
<h2 class="anchored" data-anchor-id="estimation">Estimation</h2>
<p><strong>Echelle temporelle</strong></p>
<p>La durée est divisée en <span class="math inline">\(J\)</span> intervalles, en choisissant <span class="math inline">\(J\)</span> points: <span class="math inline">\(t_0&lt;t_1&lt;...&lt;t_J\)</span> avec <span class="math inline">\(t_{J+1}=\infty\)</span>.</p>
<p><strong>Calcul du Risk set</strong></p>
<ul>
<li>A <span class="math inline">\(t_{min}=0\)</span>, <span class="math inline">\(n_0=n\)</span> individus soumis au risque: <span class="math inline">\(r_0=n_0\)</span>.</li>
<li>Le nombre d’exposé.e.s au risque sur un intervalle est calculé en soustrayant la moitié des cas censurés sur la longueur de l’intervalle: <span class="math inline">\(r_i=n_i- 0.5\times{c_i}\)</span>, avec <span class="math inline">\(n_i\)</span> le nombre de personnes soumises au risque au début de l’intervalle et <span class="math inline">\(c_i\)</span> le nombre d’observations censurées sur la longueur de l’intervalle. On suppose donc que les observations censurées <span class="math inline">\(c_i\)</span> sont sorties de l’observation uniformément sur l’intervalle. Les cas censurés le sont en moyenne au millieu de l’intervalle. <br></li>
</ul>
<p><strong>Calcul de <span class="math inline">\(S(t_i)\)</span></strong><br>
On applique la méthode de la section précédente avec:</p>
<p><span class="math display">\[q(t_i)=\frac{d_i}{n_i - 0.5\times c_i}\]</span></p>
<p><strong>Calcul de la durée médiane (ou autre quantiles)</strong><br>
<br> <em>Rappel</em>: en raison de la présence de censures à droite, le dernier intervalle étant ouvert jusqu’à la dernière sortie d’observation, il n’est pas conseillé de calculer des durées moyennes. On préfère utiliser la médiane ou tout autre quantile lorsqu’ils sont calculables. <br> <strong>Définition</strong>: il s’agit de la durée telle que <span class="math inline">\(S(t_i)=0.5\)</span>.<br>
<br> <em>Calcul</em>: Comme on applique une méthode continue et monotone à l’intérieur d’intervalles, on ne peut pas calculer directement un point de coupure qui correspond à 50% de survivants. On doit donc trouver ce point par interpolation linéaire dans l’intervalle <span class="math inline">\([t_i;t_{i+1}[\)</span> avec <span class="math inline">\(S(t_{i+1})\leq0.5\)</span> et <span class="math inline">\(S(t_{i})&gt;0.5\)</span>.</p>
</section>
<section id="r-stata-sas-python" class="level2">
<h2 class="anchored" data-anchor-id="r-stata-sas-python">R-Stata-Sas-Python</h2>
<div class="callout-important callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<ul>
<li><strong>SAS</strong>: incluse dans <code>proc lifetest</code>.</li>
<li><strong>Stata</strong>: commande <code>ltable</code>. Voir la commande externe <code>qlt</code> (MT) qui calcule les durées médianes (+ autres quartiles) et qui cale la définition des intervalles avec celle de SAS.</li>
<li><strong>R</strong>: une fonction programmée par un utilisateur (package <code>discSurv</code> =&gt; fonction <code>lifeTable</code>), mais pas convaincante car pas d’estimation sur les quantiles, et estimation avec des intervalles toujours fixés à <span class="math inline">\(dt=1\)</span>. D’un intérêt très limité, voire nul.<br>
</li>
<li><strong>Python</strong>: à l’heure actuelle, aucune fonction à ma connaissance.</li>
</ul>
</div>
</div>
</div>
</section>
<section id="application" class="level2">
<h2 class="anchored" data-anchor-id="application">Application</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>                 Beg.                                 Std.</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>   Interval     Total   Deaths   Lost    Survival    Error     [<span class="dv">95</span>% Conf. Int.]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>    <span class="dv">10</span>       <span class="dv">103</span>       <span class="dv">13</span>      <span class="dv">0</span>     <span class="fl">0.8738</span>    <span class="fl">0.0327</span>     <span class="fl">0.7926</span>    <span class="fl">0.9247</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>   <span class="dv">10</span>    <span class="dv">20</span>        <span class="dv">90</span>        <span class="dv">6</span>      <span class="dv">1</span>     <span class="fl">0.8152</span>    <span class="fl">0.0383</span>     <span class="fl">0.7257</span>    <span class="fl">0.8779</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>   <span class="dv">20</span>    <span class="dv">30</span>        <span class="dv">83</span>        <span class="dv">3</span>      <span class="dv">0</span>     <span class="fl">0.7857</span>    <span class="fl">0.0405</span>     <span class="fl">0.6931</span>    <span class="fl">0.8533</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>   <span class="dv">30</span>    <span class="dv">40</span>        <span class="dv">80</span>        <span class="dv">6</span>      <span class="dv">2</span>     <span class="fl">0.7261</span>    <span class="fl">0.0441</span>     <span class="fl">0.6284</span>    <span class="fl">0.8020</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>   <span class="dv">40</span>    <span class="dv">50</span>        <span class="dv">72</span>        <span class="dv">4</span>      <span class="dv">0</span>     <span class="fl">0.6857</span>    <span class="fl">0.0461</span>     <span class="fl">0.5857</span>    <span class="fl">0.7664</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>   <span class="dv">50</span>    <span class="dv">60</span>        <span class="dv">68</span>        <span class="dv">4</span>      <span class="dv">0</span>     <span class="fl">0.6454</span>    <span class="fl">0.0476</span>     <span class="fl">0.5439</span>    <span class="fl">0.7299</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>   <span class="dv">60</span>    <span class="dv">70</span>        <span class="dv">64</span>        <span class="dv">5</span>      <span class="dv">0</span>     <span class="fl">0.5950</span>    <span class="fl">0.0489</span>     <span class="fl">0.4926</span>    <span class="fl">0.6834</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>   <span class="dv">70</span>    <span class="dv">80</span>        <span class="dv">59</span>        <span class="dv">4</span>      <span class="dv">0</span>     <span class="fl">0.5546</span>    <span class="fl">0.0496</span>     <span class="fl">0.4523</span>    <span class="fl">0.6454</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>   <span class="dv">80</span>    <span class="dv">90</span>        <span class="dv">55</span>        <span class="dv">3</span>      <span class="dv">0</span>     <span class="fl">0.5244</span>    <span class="fl">0.0499</span>     <span class="fl">0.4225</span>    <span class="fl">0.6165</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>   <span class="dv">90</span>   <span class="dv">100</span>        <span class="dv">52</span>        <span class="dv">2</span>      <span class="dv">0</span>     <span class="fl">0.5042</span>    <span class="fl">0.0499</span>     <span class="fl">0.4029</span>    <span class="fl">0.5971</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="dv">100</span>   <span class="dv">110</span>        <span class="dv">50</span>        <span class="dv">2</span>      <span class="dv">1</span>     <span class="fl">0.4838</span>    <span class="fl">0.0500</span>     <span class="fl">0.3831</span>    <span class="fl">0.5773</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="dv">110</span>   <span class="dv">120</span>        <span class="dv">47</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4735</span>    <span class="fl">0.0499</span>     <span class="fl">0.3732</span>    <span class="fl">0.5673</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="dv">130</span>   <span class="dv">140</span>        <span class="dv">46</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.4735</span>    <span class="fl">0.0499</span>     <span class="fl">0.3732</span>    <span class="fl">0.5673</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140</span>   <span class="dv">150</span>        <span class="dv">45</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4630</span>    <span class="fl">0.0499</span>     <span class="fl">0.3631</span>    <span class="fl">0.5570</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="dv">150</span>   <span class="dv">160</span>        <span class="dv">44</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4525</span>    <span class="fl">0.0499</span>     <span class="fl">0.3530</span>    <span class="fl">0.5467</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="dv">160</span>   <span class="dv">170</span>        <span class="dv">43</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4420</span>    <span class="fl">0.0498</span>     <span class="fl">0.3429</span>    <span class="fl">0.5364</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="dv">180</span>   <span class="dv">190</span>        <span class="dv">42</span>        <span class="dv">2</span>      <span class="dv">1</span>     <span class="fl">0.4207</span>    <span class="fl">0.0496</span>     <span class="fl">0.3227</span>    <span class="fl">0.5154</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="dv">200</span>   <span class="dv">210</span>        <span class="dv">39</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4099</span>    <span class="fl">0.0495</span>     <span class="fl">0.3125</span>    <span class="fl">0.5047</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="dv">210</span>   <span class="dv">220</span>        <span class="dv">38</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3991</span>    <span class="fl">0.0494</span>     <span class="fl">0.3024</span>    <span class="fl">0.4939</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="dv">260</span>   <span class="dv">270</span>        <span class="dv">37</span>        <span class="dv">1</span>      <span class="dv">1</span>     <span class="fl">0.3882</span>    <span class="fl">0.0492</span>     <span class="fl">0.2921</span>    <span class="fl">0.4830</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="dv">280</span>   <span class="dv">290</span>        <span class="dv">35</span>        <span class="dv">2</span>      <span class="dv">0</span>     <span class="fl">0.3660</span>    <span class="fl">0.0489</span>     <span class="fl">0.2714</span>    <span class="fl">0.4608</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="dv">300</span>   <span class="dv">310</span>        <span class="dv">33</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3549</span>    <span class="fl">0.0486</span>     <span class="fl">0.2612</span>    <span class="fl">0.4496</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="dv">330</span>   <span class="dv">340</span>        <span class="dv">32</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3438</span>    <span class="fl">0.0483</span>     <span class="fl">0.2510</span>    <span class="fl">0.4383</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="dv">340</span>   <span class="dv">350</span>        <span class="dv">31</span>        <span class="dv">2</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="dv">370</span>   <span class="dv">380</span>        <span class="dv">28</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="dv">390</span>   <span class="dv">400</span>        <span class="dv">27</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="dv">420</span>   <span class="dv">430</span>        <span class="dv">26</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="dv">440</span>   <span class="dv">450</span>        <span class="dv">25</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="dv">480</span>   <span class="dv">490</span>        <span class="dv">24</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  <span class="dv">510</span>   <span class="dv">520</span>        <span class="dv">23</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  <span class="dv">540</span>   <span class="dv">550</span>        <span class="dv">22</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="dv">580</span>   <span class="dv">590</span>        <span class="dv">21</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3060</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  <span class="dv">590</span>   <span class="dv">600</span>        <span class="dv">20</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3060</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  <span class="dv">620</span>   <span class="dv">630</span>        <span class="dv">19</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3060</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  <span class="dv">670</span>   <span class="dv">680</span>        <span class="dv">18</span>        <span class="dv">1</span>      <span class="dv">1</span>     <span class="fl">0.2885</span>    <span class="fl">0.0482</span>     <span class="fl">0.1983</span>    <span class="fl">0.3847</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="dv">730</span>   <span class="dv">740</span>        <span class="dv">16</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2705</span>    <span class="fl">0.0484</span>     <span class="fl">0.1808</span>    <span class="fl">0.3680</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="dv">840</span>   <span class="dv">850</span>        <span class="dv">15</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.2705</span>    <span class="fl">0.0484</span>     <span class="fl">0.1808</span>    <span class="fl">0.3680</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  <span class="dv">850</span>   <span class="dv">860</span>        <span class="dv">14</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2511</span>    <span class="fl">0.0487</span>     <span class="fl">0.1622</span>    <span class="fl">0.3501</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="dv">910</span>   <span class="dv">920</span>        <span class="dv">13</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.2511</span>    <span class="fl">0.0487</span>     <span class="fl">0.1622</span>    <span class="fl">0.3501</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  <span class="dv">940</span>   <span class="dv">950</span>        <span class="dv">12</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.2511</span>    <span class="fl">0.0487</span>     <span class="fl">0.1622</span>    <span class="fl">0.3501</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  <span class="dv">970</span>   <span class="dv">980</span>        <span class="dv">11</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2283</span>    <span class="fl">0.0493</span>     <span class="fl">0.1398</span>    <span class="fl">0.3299</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>  <span class="dv">990</span>  <span class="dv">1000</span>        <span class="dv">10</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2055</span>    <span class="fl">0.0494</span>     <span class="fl">0.1187</span>    <span class="fl">0.3088</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a> <span class="dv">1030</span>  <span class="dv">1040</span>         <span class="dv">9</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.1826</span>    <span class="fl">0.0489</span>     <span class="fl">0.0988</span>    <span class="fl">0.2869</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a> <span class="dv">1140</span>  <span class="dv">1150</span>         <span class="dv">8</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1826</span>    <span class="fl">0.0489</span>     <span class="fl">0.0988</span>    <span class="fl">0.2869</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a> <span class="dv">1320</span>  <span class="dv">1330</span>         <span class="dv">7</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1826</span>    <span class="fl">0.0489</span>     <span class="fl">0.0988</span>    <span class="fl">0.2869</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a> <span class="dv">1380</span>  <span class="dv">1390</span>         <span class="dv">6</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a> <span class="dv">1400</span>  <span class="dv">1410</span>         <span class="dv">5</span>        <span class="dv">0</span>      <span class="dv">2</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a> <span class="dv">1570</span>  <span class="dv">1580</span>         <span class="dv">3</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a> <span class="dv">1580</span>  <span class="dv">1590</span>         <span class="dv">2</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a> <span class="dv">1790</span>  <span class="dv">1800</span>         <span class="dv">1</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>Durée pour differents quantiles de la fonction de survie</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>Définition des bornes Sas<span class="sc">-</span>lifetest</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.90</span><span class="sc">:</span> t<span class="ot">=</span>    <span class="fl">7.923</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.75</span><span class="sc">:</span> t<span class="ot">=</span>   <span class="fl">35.989</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.50</span><span class="sc">:</span> t<span class="ot">=</span>  <span class="fl">102.068</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.25</span><span class="sc">:</span> t<span class="ot">=</span>  <span class="fl">913.968</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.10</span><span class="sc">:</span> t<span class="ot">=</span>        .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="images/Image7.png" class="img-fluid" style="width:70.0%"></p>
<p>102 jours après leur inscription dans le registre d’attente pour une greffe, 50% des malades sont toujours en vie. Au bout de 914 jours, 75% des personnes sont décédées.</p>
</section>
</section>
<section id="la-méthode-de-kaplan-meier" class="level1">
<h1><strong>La méthode de Kaplan-Meier</strong></h1>
<ul>
<li>L’approche qui exploite toute l’information disponible est celle dite de <strong>Kaplan-Meier</strong> (<em>KM</em>).</li>
<li>Il y a autant d’intervalles que de durées où l’on observe au moins un évènement.</li>
<li>Au lieu d’utiliser des intervalles prédéterminés, l’estimateur KM va définir un intervalle entre chaque évènement enregistré.</li>
<li>La fonction de survie estimée par la méthode KM est une fonction en escalier (stairstep), d’où une méthode dite “discrète”.</li>
<li>Pour chaque intervalle, on compte le nombe d’évènements et le nombre de censures.</li>
<li>Méthode adaptée pour une mesure de la durée de type continue.</li>
</ul>
<section id="estimation-1" class="level2">
<h2 class="anchored" data-anchor-id="estimation-1">Estimation</h2>
<p><strong>Définition du Risk Set (<span class="math inline">\(r_i\)</span>)</strong></p>
<p>S’il y a à la fois des évènements et des censures à une durée <span class="math inline">\(t_i\)</span>, les observations censurées sont considérées comme exposées au risque à ce moment, comme si elles étaient censurées très rapidement après. C’est la principale caractéristique de cette méthode, nommée également l’estimateur « product-limit »</p>
<p><span class="math display">\[r_i=r_{i-1}-d_{i-1}-c_{i-1}\]</span></p>
<p><br></p>
<p><strong>Calcul de <span class="math inline">\(q_i\)</span></strong><br>
<br> On applique la méthode de la section précédente avec:</p>
<p><span class="math display">\[q_i=\frac{d_i}{r_{i-1}-d_{i-1}-c_{i-1}}\]</span></p>
<p><strong>Récupération de la médiane</strong><br>
Il n’y a pas de méthode pour calculer directement la durée médiane (ou tout autre quantile).<br>
On va prendre la valeur de la durée qui se situe juste “en dessous” de 50% de survivant.e.s. Elle est donc définie tel que <span class="math inline">\(S(t)\leq0.5\)</span>. Pas de formule savante pour obtenir ce résultat, c’est une convention. Attention, il n’est pas impossible que le % de survivant.e.s soit bien en deçà de 50% pour obtenir cette durée médiane.</p>
</section>
<section id="r-stata-sas-python-1" class="level2">
<h2 class="anchored" data-anchor-id="r-stata-sas-python-1">R-Stata-Sas-Python</h2>
<div class="callout-important callout callout-style-simple no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<ul>
<li><strong>R</strong> : les estimateurs sont donnés par la fonction <strong><code>survfit</code></strong> de la librairie <code>survival</code>.</li>
<li><strong>SAS</strong> : l’estimation de Kaplan-Meier est affichée par défaut par la <code>proc lifetest</code>. <strong>Attention : le tableau donné par SAS est particulièrement pénible à lire voire illisible, en particulier lorsque le nombre de censures est élevé, une ligne est ajoutée pour chaque observation censurée. Je conseille de ne pas afficher cette partie de l’output (voir section SAS)</strong>. On récupère pour le reste de l’output les valeurs de la durée pour S(t) =(.75,.5,.25) ainsi que le graphique, ce qui est suffisant.</li>
<li><strong>Stata</strong> : en mode survie (<strong><code>stset</code></strong>), le tableau des estimateurs est donné par la commande <strong><code>sts list</code></strong> et le graphique par <strong><code>sts graph</code></strong>.</li>
<li><strong>Python</strong>: les resultats sont donnés dans la librairie <code>lifeline</code> par des fonctions dont le nom est tout bonnement interminable. Je conseille plutôt l’utilisation de la librairie <strong><code>statmodels</code></strong> (se reporter à la section dédiée à Python).</li>
</ul>
</div>
</div>
</div>
</section>
<section id="application-1" class="level2">
<h2 class="anchored" data-anchor-id="application-1">Application</h2>
<p>On reprend l’exemple précédent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Time    Total   Fail   Lost           Function     Error     [<span class="dv">95</span>% Conf. Int.]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>     <span class="dv">1</span>      <span class="dv">103</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.9903</span>    <span class="fl">0.0097</span>     <span class="fl">0.9331</span>    <span class="fl">0.9986</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>     <span class="dv">2</span>      <span class="dv">102</span>      <span class="dv">3</span>      <span class="dv">0</span>             <span class="fl">0.9612</span>    <span class="fl">0.0190</span>     <span class="fl">0.8998</span>    <span class="fl">0.9852</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>     <span class="dv">3</span>       <span class="dv">99</span>      <span class="dv">3</span>      <span class="dv">0</span>             <span class="fl">0.9320</span>    <span class="fl">0.0248</span>     <span class="fl">0.8627</span>    <span class="fl">0.9670</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>     <span class="dv">5</span>       <span class="dv">96</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.9126</span>    <span class="fl">0.0278</span>     <span class="fl">0.8388</span>    <span class="fl">0.9535</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>     <span class="dv">6</span>       <span class="dv">94</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.8932</span>    <span class="fl">0.0304</span>     <span class="fl">0.8155</span>    <span class="fl">0.9394</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>     <span class="dv">8</span>       <span class="dv">92</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8835</span>    <span class="fl">0.0316</span>     <span class="fl">0.8040</span>    <span class="fl">0.9321</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>     <span class="dv">9</span>       <span class="dv">91</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8738</span>    <span class="fl">0.0327</span>     <span class="fl">0.7926</span>    <span class="fl">0.9247</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">11</span>       <span class="dv">90</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.8738</span>    <span class="fl">0.0327</span>     <span class="fl">0.7926</span>    <span class="fl">0.9247</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">12</span>       <span class="dv">89</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8640</span>    <span class="fl">0.0338</span>     <span class="fl">0.7811</span>    <span class="fl">0.9171</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">16</span>       <span class="dv">88</span>      <span class="dv">3</span>      <span class="dv">0</span>             <span class="fl">0.8345</span>    <span class="fl">0.0367</span>     <span class="fl">0.7474</span>    <span class="fl">0.8937</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">17</span>       <span class="dv">85</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8247</span>    <span class="fl">0.0375</span>     <span class="fl">0.7363</span>    <span class="fl">0.8857</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">18</span>       <span class="dv">84</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8149</span>    <span class="fl">0.0383</span>     <span class="fl">0.7253</span>    <span class="fl">0.8777</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">21</span>       <span class="dv">83</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.7952</span>    <span class="fl">0.0399</span>     <span class="fl">0.7034</span>    <span class="fl">0.8614</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">28</span>       <span class="dv">81</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7854</span>    <span class="fl">0.0406</span>     <span class="fl">0.6926</span>    <span class="fl">0.8531</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">30</span>       <span class="dv">80</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7756</span>    <span class="fl">0.0412</span>     <span class="fl">0.6819</span>    <span class="fl">0.8448</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">31</span>       <span class="dv">79</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.7756</span>    <span class="fl">0.0412</span>     <span class="fl">0.6819</span>    <span class="fl">0.8448</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">32</span>       <span class="dv">78</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7657</span>    <span class="fl">0.0419</span>     <span class="fl">0.6710</span>    <span class="fl">0.8363</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">35</span>       <span class="dv">77</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7557</span>    <span class="fl">0.0425</span>     <span class="fl">0.6603</span>    <span class="fl">0.8278</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">36</span>       <span class="dv">76</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7458</span>    <span class="fl">0.0431</span>     <span class="fl">0.6495</span>    <span class="fl">0.8192</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">37</span>       <span class="dv">75</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7358</span>    <span class="fl">0.0436</span>     <span class="fl">0.6388</span>    <span class="fl">0.8106</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">39</span>       <span class="dv">74</span>      <span class="dv">1</span>      <span class="dv">1</span>             <span class="fl">0.7259</span>    <span class="fl">0.0442</span>     <span class="fl">0.6282</span>    <span class="fl">0.8019</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">40</span>       <span class="dv">72</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.7057</span>    <span class="fl">0.0452</span>     <span class="fl">0.6068</span>    <span class="fl">0.7842</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">43</span>       <span class="dv">70</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6956</span>    <span class="fl">0.0457</span>     <span class="fl">0.5961</span>    <span class="fl">0.7752</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">45</span>       <span class="dv">69</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6856</span>    <span class="fl">0.0461</span>     <span class="fl">0.5855</span>    <span class="fl">0.7662</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">50</span>       <span class="dv">68</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6755</span>    <span class="fl">0.0465</span>     <span class="fl">0.5750</span>    <span class="fl">0.7572</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">51</span>       <span class="dv">67</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6654</span>    <span class="fl">0.0469</span>     <span class="fl">0.5645</span>    <span class="fl">0.7481</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    <span class="dv">53</span>       <span class="dv">66</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6553</span>    <span class="fl">0.0472</span>     <span class="fl">0.5541</span>    <span class="fl">0.7390</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    <span class="dv">58</span>       <span class="dv">65</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6452</span>    <span class="fl">0.0476</span>     <span class="fl">0.5437</span>    <span class="fl">0.7298</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="dv">61</span>       <span class="dv">64</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6352</span>    <span class="fl">0.0479</span>     <span class="fl">0.5333</span>    <span class="fl">0.7206</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    <span class="dv">66</span>       <span class="dv">63</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6251</span>    <span class="fl">0.0482</span>     <span class="fl">0.5230</span>    <span class="fl">0.7113</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="dv">68</span>       <span class="dv">62</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.6049</span>    <span class="fl">0.0487</span>     <span class="fl">0.5026</span>    <span class="fl">0.6926</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="dv">69</span>       <span class="dv">60</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5948</span>    <span class="fl">0.0489</span>     <span class="fl">0.4924</span>    <span class="fl">0.6832</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    <span class="dv">72</span>       <span class="dv">59</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.5747</span>    <span class="fl">0.0493</span>     <span class="fl">0.4722</span>    <span class="fl">0.6643</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    <span class="dv">77</span>       <span class="dv">57</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5646</span>    <span class="fl">0.0494</span>     <span class="fl">0.4621</span>    <span class="fl">0.6548</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    <span class="dv">78</span>       <span class="dv">56</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5545</span>    <span class="fl">0.0496</span>     <span class="fl">0.4521</span>    <span class="fl">0.6453</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    <span class="dv">80</span>       <span class="dv">55</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5444</span>    <span class="fl">0.0497</span>     <span class="fl">0.4422</span>    <span class="fl">0.6357</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    <span class="dv">81</span>       <span class="dv">54</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5343</span>    <span class="fl">0.0498</span>     <span class="fl">0.4323</span>    <span class="fl">0.6261</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>    <span class="dv">85</span>       <span class="dv">53</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5243</span>    <span class="fl">0.0499</span>     <span class="fl">0.4224</span>    <span class="fl">0.6164</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>    <span class="dv">90</span>       <span class="dv">52</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5142</span>    <span class="fl">0.0499</span>     <span class="fl">0.4125</span>    <span class="fl">0.6067</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>    <span class="dv">96</span>       <span class="dv">51</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5041</span>    <span class="fl">0.0499</span>     <span class="fl">0.4027</span>    <span class="fl">0.5969</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>   <span class="dv">100</span>       <span class="dv">50</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4940</span>    <span class="fl">0.0499</span>     <span class="fl">0.3930</span>    <span class="fl">0.5872</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>   <span class="dv">102</span>       <span class="dv">49</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4839</span>    <span class="fl">0.0499</span>     <span class="fl">0.3833</span>    <span class="fl">0.5773</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>   <span class="dv">109</span>       <span class="dv">48</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.4839</span>    <span class="fl">0.0499</span>     <span class="fl">0.3833</span>    <span class="fl">0.5773</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>   <span class="dv">110</span>       <span class="dv">47</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4736</span>    <span class="fl">0.0499</span>     <span class="fl">0.3733</span>    <span class="fl">0.5673</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>   <span class="dv">131</span>       <span class="dv">46</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.4736</span>    <span class="fl">0.0499</span>     <span class="fl">0.3733</span>    <span class="fl">0.5673</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>   <span class="dv">149</span>       <span class="dv">45</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4631</span>    <span class="fl">0.0499</span>     <span class="fl">0.3632</span>    <span class="fl">0.5571</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>   <span class="dv">153</span>       <span class="dv">44</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4526</span>    <span class="fl">0.0499</span>     <span class="fl">0.3531</span>    <span class="fl">0.5468</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>   <span class="dv">165</span>       <span class="dv">43</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4421</span>    <span class="fl">0.0498</span>     <span class="fl">0.3430</span>    <span class="fl">0.5364</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>   <span class="dv">180</span>       <span class="dv">42</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.4421</span>    <span class="fl">0.0498</span>     <span class="fl">0.3430</span>    <span class="fl">0.5364</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>   <span class="dv">186</span>       <span class="dv">41</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4313</span>    <span class="fl">0.0497</span>     <span class="fl">0.3327</span>    <span class="fl">0.5258</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>   <span class="dv">188</span>       <span class="dv">40</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4205</span>    <span class="fl">0.0497</span>     <span class="fl">0.3225</span>    <span class="fl">0.5152</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>   <span class="dv">207</span>       <span class="dv">39</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4097</span>    <span class="fl">0.0495</span>     <span class="fl">0.3123</span>    <span class="fl">0.5045</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>   <span class="dv">219</span>       <span class="dv">38</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3989</span>    <span class="fl">0.0494</span>     <span class="fl">0.3022</span>    <span class="fl">0.4938</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>   <span class="dv">263</span>       <span class="dv">37</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3881</span>    <span class="fl">0.0492</span>     <span class="fl">0.2921</span>    <span class="fl">0.4830</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>   <span class="dv">265</span>       <span class="dv">36</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3881</span>    <span class="fl">0.0492</span>     <span class="fl">0.2921</span>    <span class="fl">0.4830</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>   <span class="dv">285</span>       <span class="dv">35</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.3660</span>    <span class="fl">0.0488</span>     <span class="fl">0.2714</span>    <span class="fl">0.4608</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>   <span class="dv">308</span>       <span class="dv">33</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3549</span>    <span class="fl">0.0486</span>     <span class="fl">0.2612</span>    <span class="fl">0.4496</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>   <span class="dv">334</span>       <span class="dv">32</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3438</span>    <span class="fl">0.0483</span>     <span class="fl">0.2510</span>    <span class="fl">0.4383</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>   <span class="dv">340</span>       <span class="dv">31</span>      <span class="dv">1</span>      <span class="dv">1</span>             <span class="fl">0.3327</span>    <span class="fl">0.0480</span>     <span class="fl">0.2409</span>    <span class="fl">0.4270</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>   <span class="dv">342</span>       <span class="dv">29</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>   <span class="dv">370</span>       <span class="dv">28</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>   <span class="dv">397</span>       <span class="dv">27</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>   <span class="dv">427</span>       <span class="dv">26</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>   <span class="dv">445</span>       <span class="dv">25</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>   <span class="dv">482</span>       <span class="dv">24</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>   <span class="dv">515</span>       <span class="dv">23</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>   <span class="dv">545</span>       <span class="dv">22</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>   <span class="dv">583</span>       <span class="dv">21</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>   <span class="dv">596</span>       <span class="dv">20</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>   <span class="dv">620</span>       <span class="dv">19</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>   <span class="dv">670</span>       <span class="dv">18</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>   <span class="dv">675</span>       <span class="dv">17</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2879</span>    <span class="fl">0.0483</span>     <span class="fl">0.1976</span>    <span class="fl">0.3844</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>   <span class="dv">733</span>       <span class="dv">16</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2699</span>    <span class="fl">0.0485</span>     <span class="fl">0.1802</span>    <span class="fl">0.3676</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>   <span class="dv">841</span>       <span class="dv">15</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.2699</span>    <span class="fl">0.0485</span>     <span class="fl">0.1802</span>    <span class="fl">0.3676</span></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>   <span class="dv">852</span>       <span class="dv">14</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2507</span>    <span class="fl">0.0487</span>     <span class="fl">0.1616</span>    <span class="fl">0.3497</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>   <span class="dv">915</span>       <span class="dv">13</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.2507</span>    <span class="fl">0.0487</span>     <span class="fl">0.1616</span>    <span class="fl">0.3497</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>   <span class="dv">941</span>       <span class="dv">12</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.2507</span>    <span class="fl">0.0487</span>     <span class="fl">0.1616</span>    <span class="fl">0.3497</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>   <span class="dv">979</span>       <span class="dv">11</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2279</span>    <span class="fl">0.0493</span>     <span class="fl">0.1394</span>    <span class="fl">0.3295</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>   <span class="dv">995</span>       <span class="dv">10</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2051</span>    <span class="fl">0.0494</span>     <span class="fl">0.1183</span>    <span class="fl">0.3085</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1032</span>        <span class="dv">9</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.1823</span>    <span class="fl">0.0489</span>     <span class="fl">0.0985</span>    <span class="fl">0.2865</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1141</span>        <span class="dv">8</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1823</span>    <span class="fl">0.0489</span>     <span class="fl">0.0985</span>    <span class="fl">0.2865</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1321</span>        <span class="dv">7</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1823</span>    <span class="fl">0.0489</span>     <span class="fl">0.0985</span>    <span class="fl">0.2865</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1386</span>        <span class="dv">6</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1400</span>        <span class="dv">5</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1407</span>        <span class="dv">4</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1571</span>        <span class="dv">3</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1586</span>        <span class="dv">2</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1799</span>        <span class="dv">1</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Durée médiane: <span class="math inline">\(t=100\)</span> (correspond à <span class="math inline">\(S(t)=0.4940\)</span>).</p>
<p><img src="images/Image8.png" class="img-fluid" style="width:80.0%"></p>
</section>
</section>
<section id="quantités-associées" class="level1">
<h1>Quantités associées</h1>
<p>A partir de l’estimateur Kaplan-Meier..<br>
<br></p>
<p><strong>Le risque cumulé</strong>: estimateur de Nelson AAlen<br>
Il est simplément égal à:</p>
<p><span class="math display">\[H(t)=\sum_{t_i\leq k}q(t_i)\]</span></p>
<p><img src="images/Image19.png" class="img-fluid" style="width:70.0%"></p>
<p><strong>Le risque instantané</strong><br>
Nécessite l’estimateur de Nelson-Aalen. Le risque est obtenu en lissant les différences - toujours positive - entre <span class="math inline">\(H(t)\)</span> par la méthode dite du <strong>kernel</strong>. Elle permet d’obtenir une fonction continue avec la durée (paramétrables sur les largeurs des fenêtres de lissage). D’autres méthodes de lissage sont maintenant possibles, et de plus en plus utilisées, en particulier celles utilisant des splines restreintes (paramétrable sur un nombre de degré de liberté – nœuds-).</p>
<p><img src="images/Image20.png" class="img-fluid" style="width:70.0%"></p>
<p><br></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="./comp_fsurvie.html" class="pagination-link">
        <span class="nav-page-text">Tests de comparaison</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Marc Thévenin - Ined-Sms - Août 2022</div>
  </div>
</footer>



</body></html>