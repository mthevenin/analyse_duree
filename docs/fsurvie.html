<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.207">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analyse des durées - Les fonctions de survie</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./comp_fsurvie.html" rel="next">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Analyse des durées</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mthevenin/analyse_duree"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:marc.thevenin@ined.fr"><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Les fonctions de survie</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false"><strong>Données et théorie</strong></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Donnees.html" class="sidebar-item-text sidebar-link">Les Données</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Theorie.html" class="sidebar-item-text sidebar-link">La théorie</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true"><strong>Méthodes non paramétriques</strong></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fsurvie.html" class="sidebar-item-text sidebar-link active">Les fonctions de survie</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comp_fsurvie.html" class="sidebar-item-text sidebar-link">Tests de comparaison</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false"><strong>Modèles à risques proportionnels</strong></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_mod.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cox.html" class="sidebar-item-text sidebar-link">Modèle de Cox</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discret.html" class="sidebar-item-text sidebar-link">Modèle temps discret</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamiques.html" class="sidebar-item-text sidebar-link">Variables dynamiques</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false"><strong>Compléments</strong></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./parametrique.html" class="sidebar-item-text sidebar-link">Modèles paramétriques</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./concurrent.html" class="sidebar-item-text sidebar-link">Risques concurrents</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./frailty.html" class="sidebar-item-text sidebar-link">Fragilité et immunité</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false"><strong>Programmation</strong></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R.html" class="sidebar-item-text sidebar-link">R</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Stata.html" class="sidebar-item-text sidebar-link">Stata</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Sas.html" class="sidebar-item-text sidebar-link">SAS</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Python.html" class="sidebar-item-text sidebar-link">PYTHON</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false"><strong>Annexes</strong></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./annexes.html" class="sidebar-item-text sidebar-link">Annexes</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sections</h2>
   
  <ul>
  <li><a href="#les-fonctions-de-survieséjour" id="toc-les-fonctions-de-survieséjour" class="nav-link active" data-scroll-target="#les-fonctions-de-survieséjour"><strong>Les fonctions de survie/séjour</strong></a>
  <ul class="collapse">
  <li><a href="#les-variables-danalyse" id="toc-les-variables-danalyse" class="nav-link" data-scroll-target="#les-variables-danalyse"><strong>Les variables d’analyse</strong></a></li>
  <li><a href="#calcul-de-la-fonction-de-survie" id="toc-calcul-de-la-fonction-de-survie" class="nav-link" data-scroll-target="#calcul-de-la-fonction-de-survie"><strong>Calcul de la fonction de survie</strong></a></li>
  </ul></li>
  <li><a href="#la-méthode-actuarielle" id="toc-la-méthode-actuarielle" class="nav-link" data-scroll-target="#la-méthode-actuarielle"><strong>La méthode actuarielle</strong></a>
  <ul class="collapse">
  <li><a href="#estimation" id="toc-estimation" class="nav-link" data-scroll-target="#estimation">Estimation</a></li>
  <li><a href="#r-stata-sas-python" id="toc-r-stata-sas-python" class="nav-link" data-scroll-target="#r-stata-sas-python">R-Stata-Sas-Python</a></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application">Application</a></li>
  </ul></li>
  <li><a href="#la-méthode-de-kaplan-meier" id="toc-la-méthode-de-kaplan-meier" class="nav-link" data-scroll-target="#la-méthode-de-kaplan-meier"><strong>La méthode de Kaplan-Meier</strong></a>
  <ul class="collapse">
  <li><a href="#estimation-1" id="toc-estimation-1" class="nav-link" data-scroll-target="#estimation-1">Estimation</a></li>
  <li><a href="#r-stata-sas-python-1" id="toc-r-stata-sas-python-1" class="nav-link" data-scroll-target="#r-stata-sas-python-1">R-Stata-Sas-Python</a></li>
  <li><a href="#application-1" id="toc-application-1" class="nav-link" data-scroll-target="#application-1">Application</a></li>
  </ul></li>
  <li><a href="#quantités-associées" id="toc-quantités-associées" class="nav-link" data-scroll-target="#quantités-associées">Quantités associées</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">Les fonctions de survie</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Les méthodes non paramétriques portent généralement sur l’analyse des fonctions de survie (<span class="math inline">\(S(t\)</span>)) ou sur celle des fonctions de répartitions (<span class="math inline">\(F(t)\)</span>), plus rarement sur les mesures d’incidence données par le risque cumulé. Deux méthodes d’estimations sont proposées : la méthode dite actuarielle et la méthode dite de Kaplan &amp; Meier. Ces deux approches sont adaptées à des mesures différentes de la durée : plutôt discrèt/groupées pour la technique actuarielle et plutôt continue pour Kaplan-Meier (KM). Cela induit un traitement différent de la censure dans l’estimation. La seconde est de très très loin la plus diffusée, surement en raison des tests de comparaison qu’elle propose.</p>
<section id="les-fonctions-de-survieséjour" class="level1">
<h1><strong>Les fonctions de survie/séjour</strong></h1>
<p><br></p>
<section id="les-variables-danalyse" class="level2">
<h2 class="anchored" data-anchor-id="les-variables-danalyse"><strong>Les variables d’analyse</strong></h2>
<p>On a un échantillon aléatoire de <span class="math inline">\(n\)</span> individus avec:</p>
<ul>
<li>Des indicateurs de fin d’épisode <span class="math inline">\(e_1,e_2,....,e_k\)</span> avec <span class="math inline">\(e_i=0\)</span> si censure à droite et <span class="math inline">\(e_i=1\)</span> si évènement observé pendant la période d’observation.</li>
<li>Des durées d’exposition au risque <span class="math inline">\(t_1,t_2,....,t_k\)</span> jusqu’à l’évènement ou la censure.</li>
<li>En théorie, il ne peut pas y avoir d’évènement en <span class="math inline">\(t=0\)</span>.</li>
</ul>
<p><br></p>
</section>
<section id="calcul-de-la-fonction-de-survie" class="level2">
<h2 class="anchored" data-anchor-id="calcul-de-la-fonction-de-survie"><strong>Calcul de la fonction de survie</strong></h2>
<p>Rappel: La fonction de survie donne la probabilité que l’évènement survienne après <span class="math inline">\(t_i\)</span>, soit <span class="math inline">\(S(t_i)=P(T&gt;t_i)\)</span>.<br>
Pour survivre en <span class="math inline">\(t_i\)</span>, il faut avoir survécu en <span class="math inline">\(t_{i-1}\)</span>, <span class="math inline">\(t_{i-2}\)</span>, …., <span class="math inline">\(t_{1}\)</span>.<br>
La fonction de survie rapporte donc des probabilités conditionnelles: survivre en <span class="math inline">\(t_i\)</span> conditionnellement au fait d’y avoir survécu avant. Il s’agit donc d’un produit de probabilités:<br>
<br></p>
<p>Soit <span class="math inline">\(d_i=\sum e_i\)</span> le nombre d’évènements observé en <span class="math inline">\(t_i\)</span> et <span class="math inline">\(r_i\)</span> la population encore soumise au risque en <span class="math inline">\(i\)</span>. On peut mesurer l’intensité de l’évènement en <span class="math inline">\(t_i\)</span> en calculant le quotient <span class="math inline">\(q(t_i)=\frac{d_i}{r_i}\)</span>. Si le temps est strictement continu on devrait toujours avoir <span class="math inline">\(q(t_i)=\frac{1}{r_i}\)</span>.</p>
<p><span class="math inline">\(S(t_i) = (1 - \frac{d_i}{r_i})\times{S(t_{i-1})} = S(t_i) = (1 - q(t_i))\times{S(t_{i-1})}\)</span>. En remplaçant <span class="math inline">\(S(t_{i-1})\)</span> par sa valeur: <span class="math inline">\(S(t_i) = (1 - \frac{d_i}{r_i})\times(1 - \frac{d_{i-1}}{r_{i-1}})\times{S(t_{i-2})}\)</span>.<br>
<br> En remplaçant toutes les expressions de la survie jusqu’en <span class="math inline">\(t_0\)</span> (<span class="math inline">\(S(0)=1\)</span>):<br>
<br></p>
<p><span class="math display">\[S(t_i)=\displaystyle \prod_{t_i\leq{k}} (1-q(t_i))\]</span></p>
<p><br></p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Application pour la suite de la formation</strong></p>
<ul>
<li><p>On va analyser le risque de décéder (la survie) de personnes souffrant d’une insuffisance cardiaque. Le début de l’exposition est leur inscription dans un registre d’attente pour une greffe du coeur.</p></li>
<li><p>Les covariables sont dans un premier temps toutes fixes: l’année (<em>year</em>) et l’âge (<em>age</em>) à l’entrée dans le registre, et le fait d’avoir été opéré pour un pontage aorto-coronarien avant l’inscription (<em>surgery</em>). Le début de l’exposition au risque est l’entrée dans le registre, la durée est mesurée en jour (<em>stime</em>). La variable évènement/censure est le décès (<em>died</em>).</p></li>
<li><p>L’introduction d’une dimension dynamique, la greffe, est donnée par les informations contenues dans les variables <em>transplant</em> et <em>wait</em>.</p></li>
<li><p>[Mettre liens git avec la base en .csv, .dta, .sas7bdat]</p></li>
</ul>
<table class="table">
<colgroup>
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th>id</th>
<th>year</th>
<th>age</th>
<th>died</th>
<th>stime</th>
<th>surgery</th>
<th>transplant</th>
<th>wait</th>
<th>mois</th>
<th>compet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>15</td>
<td>68</td>
<td>53</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>43</td>
<td>70</td>
<td>43</td>
<td>1</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>61</td>
<td>71</td>
<td>52</td>
<td>1</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>75</td>
<td>72</td>
<td>52</td>
<td>1</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>102</td>
<td>74</td>
<td>40</td>
<td>0</td>
<td>11</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td>74</td>
<td>72</td>
<td>29</td>
<td>1</td>
<td>17</td>
<td>0</td>
<td>1</td>
<td>5</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="la-méthode-actuarielle" class="level1">
<h1><strong>La méthode actuarielle</strong></h1>
<ul>
<li>Estimation sur des intervalles définies par l’utilisateur.</li>
<li>Méthode dite «continue», estimation en milieu d’intevalle.</li>
<li>Méthode apropriée lorsque la durée est mesurée de manière discrète/groupée.</li>
<li>Méthode, hélas, quasiment abandonnée dans les sciences sociales même si les durées sont plus rarement mesurées de manière exacte. L’absence de test de comparaison des fonctions de survie n’y est pas étranger.</li>
</ul>
<section id="estimation" class="level2">
<h2 class="anchored" data-anchor-id="estimation">Estimation</h2>
<p><strong>Echelle temporelle</strong></p>
<p>La durée est divisée en <span class="math inline">\(J\)</span> intervalles, en choisissant <span class="math inline">\(J\)</span> points: <span class="math inline">\(t_0&lt;t_1&lt;...&lt;t_J\)</span> avec <span class="math inline">\(t_{J+1}=\infty\)</span>.</p>
<p><strong>Calcul du Risk set</strong></p>
<ul>
<li>A <span class="math inline">\(t_{min}=0\)</span>, <span class="math inline">\(n_0=n\)</span> individus soumis au risque: <span class="math inline">\(r_0=n_0\)</span>.</li>
<li>Le nombre d’exposé.e.s au risque sur un intervalle est calculé en soustrayant la moitié des cas censurés sur la longueur de l’intervalle: <span class="math inline">\(r_i=n_i- 0.5\times{c_i}\)</span>, avec <span class="math inline">\(n_i\)</span> le nombre de personnes soumises au risque au début de l’intervalle et <span class="math inline">\(c_i\)</span> le nombre d’observations censurées sur la longueur de l’intervalle. On suppose donc que les observations censurées <span class="math inline">\(c_i\)</span> sont sorties de l’observation uniformément sur l’intervalle. Les cas censurés le sont en moyenne au millieu de l’intervalle. <br></li>
</ul>
<p><strong>Calcul de</strong> <span class="math inline">\(S(t_i)\)</span><br>
On applique la méthode de la section précédente avec:</p>
<p><span class="math display">\[q(t_i)=\frac{d_i}{n_i - 0.5\times c_i}\]</span></p>
<p><strong>Calcul de la durée médiane (ou autre quantiles)</strong></p>
<p><em>Rappel</em>: en raison de la présence de censures à droite, le dernier intervalle étant ouvert jusqu’à la dernière sortie d’observation, il n’est pas conseillé de calculer des durées moyennes. On préfère utiliser la médiane ou tout autre quantile lorsqu’ils sont calculables.</p>
<p><strong>Définition</strong>: il s’agit de la durée telle que <span class="math inline">\(S(t_i)=0.5\)</span>.</p>
<p><em>Calcul</em>: Comme on applique une méthode continue et monotone à l’intérieur d’intervalles, on ne peut pas calculer directement un point de coupure qui correspond à 50% de survivants. On doit donc trouver ce point par interpolation linéaire dans l’intervalle <span class="math inline">\([t_i;t_{i+1}[\)</span> avec <span class="math inline">\(S(t_{i+1})\leq0.5\)</span> et <span class="math inline">\(S(t_{i})&gt;0.5\)</span>.</p>
</section>
<section id="r-stata-sas-python" class="level2">
<h2 class="anchored" data-anchor-id="r-stata-sas-python">R-Stata-Sas-Python</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Stata</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Sas</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Les fonctions de survie avec la méthode dite actuarielle sont estimables avec le package <strong><code>discSurv</code></strong>. Avec le temps, il s’est étoffé, on peut maintenant paramatrer des intervalles, mais les quantiles de la durées ne sont toujours pas estimables, ce qui est fort dommage.<br>
Dans les résulats qui suivent, ces quantiles ont été estimés avec Stata en retenant la définition des bornes de Sas.</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Commande <code>ltable</code>, avec en option la paramétrisation des intervalles de durées. Voir la commande externe <code>qlt</code> (MT) qui calcule les durées médianes (+ autres quartiles) et qui recalcule la fonction de séjour avec une définition des intervalles de durées identique à celle de SAS.</p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>Sous une <code>proc lifetest</code> avec en option <code>method=lifetable</code>. On peut paramétrer les intervalles d’estimation avec l’option <code>width</code>.</p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p>A l’heure actuelle, aucune fonction à ma connaissance</p>
</div>
</div>
</div>
<ul>
<li><p><strong>Stata</strong>: commande <code>ltable</code>. Voir la commande externe <code>qlt</code> (MT) qui calcule les durées médianes (+ autres quartiles) et qui cale la définition des intervalles avec celle de SAS.</p></li>
<li><p><strong>R</strong>: une fonction programmée par un utilisateur (package <code>discSurv</code> =&gt; fonction <code>lifeTable</code>), mais pas convaincante car pas d’estimation sur les quantiles, et estimation avec des intervalles toujours fixés à <span class="math inline">\(dt=1\)</span>. D’un intérêt très limité, voire nul.<br>
</p></li>
<li><p><strong>Python</strong>: à l’heure actuelle, aucune fonction à ma connaissance.</p></li>
</ul>
</section>
<section id="application" class="level2">
<h2 class="anchored" data-anchor-id="application">Application</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>                 Beg.                                 Std.</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>   Interval     Total   Deaths   Lost    Survival    Error     [<span class="dv">95</span>% Conf. Int.]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>    <span class="dv">10</span>       <span class="dv">103</span>       <span class="dv">13</span>      <span class="dv">0</span>     <span class="fl">0.8738</span>    <span class="fl">0.0327</span>     <span class="fl">0.7926</span>    <span class="fl">0.9247</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>   <span class="dv">10</span>    <span class="dv">20</span>        <span class="dv">90</span>        <span class="dv">6</span>      <span class="dv">1</span>     <span class="fl">0.8152</span>    <span class="fl">0.0383</span>     <span class="fl">0.7257</span>    <span class="fl">0.8779</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>   <span class="dv">20</span>    <span class="dv">30</span>        <span class="dv">83</span>        <span class="dv">3</span>      <span class="dv">0</span>     <span class="fl">0.7857</span>    <span class="fl">0.0405</span>     <span class="fl">0.6931</span>    <span class="fl">0.8533</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>   <span class="dv">30</span>    <span class="dv">40</span>        <span class="dv">80</span>        <span class="dv">6</span>      <span class="dv">2</span>     <span class="fl">0.7261</span>    <span class="fl">0.0441</span>     <span class="fl">0.6284</span>    <span class="fl">0.8020</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>   <span class="dv">40</span>    <span class="dv">50</span>        <span class="dv">72</span>        <span class="dv">4</span>      <span class="dv">0</span>     <span class="fl">0.6857</span>    <span class="fl">0.0461</span>     <span class="fl">0.5857</span>    <span class="fl">0.7664</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>   <span class="dv">50</span>    <span class="dv">60</span>        <span class="dv">68</span>        <span class="dv">4</span>      <span class="dv">0</span>     <span class="fl">0.6454</span>    <span class="fl">0.0476</span>     <span class="fl">0.5439</span>    <span class="fl">0.7299</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>   <span class="dv">60</span>    <span class="dv">70</span>        <span class="dv">64</span>        <span class="dv">5</span>      <span class="dv">0</span>     <span class="fl">0.5950</span>    <span class="fl">0.0489</span>     <span class="fl">0.4926</span>    <span class="fl">0.6834</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>   <span class="dv">70</span>    <span class="dv">80</span>        <span class="dv">59</span>        <span class="dv">4</span>      <span class="dv">0</span>     <span class="fl">0.5546</span>    <span class="fl">0.0496</span>     <span class="fl">0.4523</span>    <span class="fl">0.6454</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>   <span class="dv">80</span>    <span class="dv">90</span>        <span class="dv">55</span>        <span class="dv">3</span>      <span class="dv">0</span>     <span class="fl">0.5244</span>    <span class="fl">0.0499</span>     <span class="fl">0.4225</span>    <span class="fl">0.6165</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>   <span class="dv">90</span>   <span class="dv">100</span>        <span class="dv">52</span>        <span class="dv">2</span>      <span class="dv">0</span>     <span class="fl">0.5042</span>    <span class="fl">0.0499</span>     <span class="fl">0.4029</span>    <span class="fl">0.5971</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="dv">100</span>   <span class="dv">110</span>        <span class="dv">50</span>        <span class="dv">2</span>      <span class="dv">1</span>     <span class="fl">0.4838</span>    <span class="fl">0.0500</span>     <span class="fl">0.3831</span>    <span class="fl">0.5773</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="dv">110</span>   <span class="dv">120</span>        <span class="dv">47</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4735</span>    <span class="fl">0.0499</span>     <span class="fl">0.3732</span>    <span class="fl">0.5673</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="dv">130</span>   <span class="dv">140</span>        <span class="dv">46</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.4735</span>    <span class="fl">0.0499</span>     <span class="fl">0.3732</span>    <span class="fl">0.5673</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140</span>   <span class="dv">150</span>        <span class="dv">45</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4630</span>    <span class="fl">0.0499</span>     <span class="fl">0.3631</span>    <span class="fl">0.5570</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="dv">150</span>   <span class="dv">160</span>        <span class="dv">44</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4525</span>    <span class="fl">0.0499</span>     <span class="fl">0.3530</span>    <span class="fl">0.5467</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="dv">160</span>   <span class="dv">170</span>        <span class="dv">43</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4420</span>    <span class="fl">0.0498</span>     <span class="fl">0.3429</span>    <span class="fl">0.5364</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="dv">180</span>   <span class="dv">190</span>        <span class="dv">42</span>        <span class="dv">2</span>      <span class="dv">1</span>     <span class="fl">0.4207</span>    <span class="fl">0.0496</span>     <span class="fl">0.3227</span>    <span class="fl">0.5154</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="dv">200</span>   <span class="dv">210</span>        <span class="dv">39</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4099</span>    <span class="fl">0.0495</span>     <span class="fl">0.3125</span>    <span class="fl">0.5047</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="dv">210</span>   <span class="dv">220</span>        <span class="dv">38</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3991</span>    <span class="fl">0.0494</span>     <span class="fl">0.3024</span>    <span class="fl">0.4939</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="dv">260</span>   <span class="dv">270</span>        <span class="dv">37</span>        <span class="dv">1</span>      <span class="dv">1</span>     <span class="fl">0.3882</span>    <span class="fl">0.0492</span>     <span class="fl">0.2921</span>    <span class="fl">0.4830</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="dv">280</span>   <span class="dv">290</span>        <span class="dv">35</span>        <span class="dv">2</span>      <span class="dv">0</span>     <span class="fl">0.3660</span>    <span class="fl">0.0489</span>     <span class="fl">0.2714</span>    <span class="fl">0.4608</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="dv">300</span>   <span class="dv">310</span>        <span class="dv">33</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3549</span>    <span class="fl">0.0486</span>     <span class="fl">0.2612</span>    <span class="fl">0.4496</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="dv">330</span>   <span class="dv">340</span>        <span class="dv">32</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3438</span>    <span class="fl">0.0483</span>     <span class="fl">0.2510</span>    <span class="fl">0.4383</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="dv">340</span>   <span class="dv">350</span>        <span class="dv">31</span>        <span class="dv">2</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="dv">370</span>   <span class="dv">380</span>        <span class="dv">28</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="dv">390</span>   <span class="dv">400</span>        <span class="dv">27</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="dv">420</span>   <span class="dv">430</span>        <span class="dv">26</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="dv">440</span>   <span class="dv">450</span>        <span class="dv">25</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="dv">480</span>   <span class="dv">490</span>        <span class="dv">24</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  <span class="dv">510</span>   <span class="dv">520</span>        <span class="dv">23</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  <span class="dv">540</span>   <span class="dv">550</span>        <span class="dv">22</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="dv">580</span>   <span class="dv">590</span>        <span class="dv">21</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3060</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  <span class="dv">590</span>   <span class="dv">600</span>        <span class="dv">20</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3060</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  <span class="dv">620</span>   <span class="dv">630</span>        <span class="dv">19</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3060</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  <span class="dv">670</span>   <span class="dv">680</span>        <span class="dv">18</span>        <span class="dv">1</span>      <span class="dv">1</span>     <span class="fl">0.2885</span>    <span class="fl">0.0482</span>     <span class="fl">0.1983</span>    <span class="fl">0.3847</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="dv">730</span>   <span class="dv">740</span>        <span class="dv">16</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2705</span>    <span class="fl">0.0484</span>     <span class="fl">0.1808</span>    <span class="fl">0.3680</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="dv">840</span>   <span class="dv">850</span>        <span class="dv">15</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.2705</span>    <span class="fl">0.0484</span>     <span class="fl">0.1808</span>    <span class="fl">0.3680</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  <span class="dv">850</span>   <span class="dv">860</span>        <span class="dv">14</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2511</span>    <span class="fl">0.0487</span>     <span class="fl">0.1622</span>    <span class="fl">0.3501</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="dv">910</span>   <span class="dv">920</span>        <span class="dv">13</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.2511</span>    <span class="fl">0.0487</span>     <span class="fl">0.1622</span>    <span class="fl">0.3501</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  <span class="dv">940</span>   <span class="dv">950</span>        <span class="dv">12</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.2511</span>    <span class="fl">0.0487</span>     <span class="fl">0.1622</span>    <span class="fl">0.3501</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  <span class="dv">970</span>   <span class="dv">980</span>        <span class="dv">11</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2283</span>    <span class="fl">0.0493</span>     <span class="fl">0.1398</span>    <span class="fl">0.3299</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>  <span class="dv">990</span>  <span class="dv">1000</span>        <span class="dv">10</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2055</span>    <span class="fl">0.0494</span>     <span class="fl">0.1187</span>    <span class="fl">0.3088</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a> <span class="dv">1030</span>  <span class="dv">1040</span>         <span class="dv">9</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.1826</span>    <span class="fl">0.0489</span>     <span class="fl">0.0988</span>    <span class="fl">0.2869</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a> <span class="dv">1140</span>  <span class="dv">1150</span>         <span class="dv">8</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1826</span>    <span class="fl">0.0489</span>     <span class="fl">0.0988</span>    <span class="fl">0.2869</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a> <span class="dv">1320</span>  <span class="dv">1330</span>         <span class="dv">7</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1826</span>    <span class="fl">0.0489</span>     <span class="fl">0.0988</span>    <span class="fl">0.2869</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a> <span class="dv">1380</span>  <span class="dv">1390</span>         <span class="dv">6</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a> <span class="dv">1400</span>  <span class="dv">1410</span>         <span class="dv">5</span>        <span class="dv">0</span>      <span class="dv">2</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a> <span class="dv">1570</span>  <span class="dv">1580</span>         <span class="dv">3</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a> <span class="dv">1580</span>  <span class="dv">1590</span>         <span class="dv">2</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a> <span class="dv">1790</span>  <span class="dv">1800</span>         <span class="dv">1</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>Durée pour differents quantiles de la fonction de survie</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>Définition des bornes Sas<span class="sc">-</span>lifetest</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.90</span><span class="sc">:</span> t<span class="ot">=</span>    <span class="fl">7.923</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.75</span><span class="sc">:</span> t<span class="ot">=</span>   <span class="fl">35.989</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.50</span><span class="sc">:</span> t<span class="ot">=</span>  <span class="fl">102.068</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.25</span><span class="sc">:</span> t<span class="ot">=</span>  <span class="fl">913.968</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.10</span><span class="sc">:</span> t<span class="ot">=</span>        .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="images/Image7.png" class="img-fluid" style="width:70.0%"></p>
<p>102 jours après leur inscription dans le registre d’attente pour une greffe, 50% des malades sont toujours en vie. Au bout de 914 jours, 75% des personnes sont décédées.</p>
</section>
</section>
<section id="la-méthode-de-kaplan-meier" class="level1">
<h1><strong>La méthode de Kaplan-Meier</strong></h1>
<ul>
<li>L’approche qui exploite toute l’information disponible est celle dite de <strong>Kaplan-Meier</strong> (<em>KM</em>).</li>
<li>Il y a autant d’intervalles que de durées où l’on observe au moins un évènement.</li>
<li>Au lieu d’utiliser des intervalles prédéterminés, l’estimateur KM va définir un intervalle entre chaque évènement enregistré.</li>
<li>La fonction de survie estimée par la méthode KM est une fonction en escalier (stairstep), d’où une méthode dite “discrète”.</li>
<li>Pour chaque intervalle, on compte le nombe d’évènements et le nombre de censures.</li>
<li>Méthode adaptée pour une mesure de la durée de type continue.</li>
</ul>
<section id="estimation-1" class="level2">
<h2 class="anchored" data-anchor-id="estimation-1">Estimation</h2>
<p><strong>Définition du Risk Set (</strong><span class="math inline">\(r_i\)</span>)</p>
<p>S’il y a à la fois des évènements et des censures à une durée <span class="math inline">\(t_i\)</span>, les observations censurées sont considérées comme exposées au risque à ce moment, comme si elles étaient censurées très rapidement après. C’est la principale caractéristique de cette méthode, appelé également l’estimateur « product-limit »</p>
<p><span class="math display">\[r_i=r_{i-1}-d_{i-1}-c_{i-1}\]</span><br>
<br></p>
<p><strong>Calcul de</strong> <span class="math inline">\(q_i\)</span><br>
<br> On applique la méthode de la section précédente avec:</p>
<p><span class="math display">\[q_i=\frac{d_i}{r_{i-1}-d_{i-1}-c_{i-1}}\]</span> <em>Remarque</em>: la variance de l’estimateur est obtenu par la méthode dite de “Greenwood”“. Il n’y a pas d’intérêt particulier pour ce cours de la décrire.</p>
<p><strong>Récupération de la médiane</strong><br>
Il n’y a pas de méthode pour calculer directement la durée médiane (ou tout autre quantile).<br>
On va prendre la valeur de la durée qui se situe juste “en dessous” de 50% de survivant.e.s. Elle est donc définie tel que <span class="math inline">\(S(t)\leq0.5\)</span>. donc pas de formule savante pour obtenir ce résultat, c’est une convention. Attention, il n’est pas impossible que le % de survivant.e.s soit bien en deçà de 50% pour l’obtention cette durée médiane.</p>
</section>
<section id="r-stata-sas-python-1" class="level2">
<h2 class="anchored" data-anchor-id="r-stata-sas-python-1">R-Stata-Sas-Python</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Stata</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">SAS</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Les estimateurs sont obtenus avec fonction <strong><code>survfit</code></strong> de la librairie <code>survival</code>. On peut obtenir des rendus graphiques supérieurs avec la librairie <code>survminer</code> (fonction <code>ggsurvplot</code>)</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Après avoir appelé les variables de durée et de censure en mode <strong>survival</strong> avec <strong><code>stset</code></strong>), le tableau des estimateurs est obtenu la commande <strong><code>sts list</code></strong> et le graphique avec <strong><code>sts graph</code></strong>.</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>L’estimation de Kaplan-Meier est affichée par défaut par la <code>proc lifetest</code>.<br>
<strong><em>Warning</em></strong> : le tableau affiché par SAS est particulièrement pénible à lire voire illisible, en particulier lorsque le nombre de censures est élevé, une ligne étant ajoutée pour chaque observation censurée. Je conseille de ne pas afficher cette partie de l’output (se reporter à la section SAS du chapitre programmation). On récupère pour le reste de l’output les valeurs de la durée pour S(t) =(.75,.5,.25) ainsi que le graphique, ce qui est suffisant.</p>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p>Les resultats sont donnés dans la librairie <code>lifeline</code> par des fonctions dont le nom est interminable. Je conseille plutôt l’utilisation de la librairie <strong><code>statmodels</code></strong> (se reporter à la section dédiée à Python).</p>
</div>
</div>
</div>
</section>
<section id="application-1" class="level2">
<h2 class="anchored" data-anchor-id="application-1">Application</h2>
<p>On reprend l’exemple précédent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Time    Total   Fail   Lost           Function     Error     [<span class="dv">95</span>% Conf. Int.]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>     <span class="dv">1</span>      <span class="dv">103</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.9903</span>    <span class="fl">0.0097</span>     <span class="fl">0.9331</span>    <span class="fl">0.9986</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>     <span class="dv">2</span>      <span class="dv">102</span>      <span class="dv">3</span>      <span class="dv">0</span>             <span class="fl">0.9612</span>    <span class="fl">0.0190</span>     <span class="fl">0.8998</span>    <span class="fl">0.9852</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>     <span class="dv">3</span>       <span class="dv">99</span>      <span class="dv">3</span>      <span class="dv">0</span>             <span class="fl">0.9320</span>    <span class="fl">0.0248</span>     <span class="fl">0.8627</span>    <span class="fl">0.9670</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>     <span class="dv">5</span>       <span class="dv">96</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.9126</span>    <span class="fl">0.0278</span>     <span class="fl">0.8388</span>    <span class="fl">0.9535</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>     <span class="dv">6</span>       <span class="dv">94</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.8932</span>    <span class="fl">0.0304</span>     <span class="fl">0.8155</span>    <span class="fl">0.9394</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>     <span class="dv">8</span>       <span class="dv">92</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8835</span>    <span class="fl">0.0316</span>     <span class="fl">0.8040</span>    <span class="fl">0.9321</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>     <span class="dv">9</span>       <span class="dv">91</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8738</span>    <span class="fl">0.0327</span>     <span class="fl">0.7926</span>    <span class="fl">0.9247</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">11</span>       <span class="dv">90</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.8738</span>    <span class="fl">0.0327</span>     <span class="fl">0.7926</span>    <span class="fl">0.9247</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">12</span>       <span class="dv">89</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8640</span>    <span class="fl">0.0338</span>     <span class="fl">0.7811</span>    <span class="fl">0.9171</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">16</span>       <span class="dv">88</span>      <span class="dv">3</span>      <span class="dv">0</span>             <span class="fl">0.8345</span>    <span class="fl">0.0367</span>     <span class="fl">0.7474</span>    <span class="fl">0.8937</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">17</span>       <span class="dv">85</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8247</span>    <span class="fl">0.0375</span>     <span class="fl">0.7363</span>    <span class="fl">0.8857</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">18</span>       <span class="dv">84</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8149</span>    <span class="fl">0.0383</span>     <span class="fl">0.7253</span>    <span class="fl">0.8777</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">21</span>       <span class="dv">83</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.7952</span>    <span class="fl">0.0399</span>     <span class="fl">0.7034</span>    <span class="fl">0.8614</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">28</span>       <span class="dv">81</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7854</span>    <span class="fl">0.0406</span>     <span class="fl">0.6926</span>    <span class="fl">0.8531</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">30</span>       <span class="dv">80</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7756</span>    <span class="fl">0.0412</span>     <span class="fl">0.6819</span>    <span class="fl">0.8448</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">31</span>       <span class="dv">79</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.7756</span>    <span class="fl">0.0412</span>     <span class="fl">0.6819</span>    <span class="fl">0.8448</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">32</span>       <span class="dv">78</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7657</span>    <span class="fl">0.0419</span>     <span class="fl">0.6710</span>    <span class="fl">0.8363</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">35</span>       <span class="dv">77</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7557</span>    <span class="fl">0.0425</span>     <span class="fl">0.6603</span>    <span class="fl">0.8278</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">36</span>       <span class="dv">76</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7458</span>    <span class="fl">0.0431</span>     <span class="fl">0.6495</span>    <span class="fl">0.8192</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="dv">37</span>       <span class="dv">75</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7358</span>    <span class="fl">0.0436</span>     <span class="fl">0.6388</span>    <span class="fl">0.8106</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">39</span>       <span class="dv">74</span>      <span class="dv">1</span>      <span class="dv">1</span>             <span class="fl">0.7259</span>    <span class="fl">0.0442</span>     <span class="fl">0.6282</span>    <span class="fl">0.8019</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">40</span>       <span class="dv">72</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.7057</span>    <span class="fl">0.0452</span>     <span class="fl">0.6068</span>    <span class="fl">0.7842</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">43</span>       <span class="dv">70</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6956</span>    <span class="fl">0.0457</span>     <span class="fl">0.5961</span>    <span class="fl">0.7752</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">45</span>       <span class="dv">69</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6856</span>    <span class="fl">0.0461</span>     <span class="fl">0.5855</span>    <span class="fl">0.7662</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">50</span>       <span class="dv">68</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6755</span>    <span class="fl">0.0465</span>     <span class="fl">0.5750</span>    <span class="fl">0.7572</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">51</span>       <span class="dv">67</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6654</span>    <span class="fl">0.0469</span>     <span class="fl">0.5645</span>    <span class="fl">0.7481</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    <span class="dv">53</span>       <span class="dv">66</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6553</span>    <span class="fl">0.0472</span>     <span class="fl">0.5541</span>    <span class="fl">0.7390</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    <span class="dv">58</span>       <span class="dv">65</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6452</span>    <span class="fl">0.0476</span>     <span class="fl">0.5437</span>    <span class="fl">0.7298</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="dv">61</span>       <span class="dv">64</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6352</span>    <span class="fl">0.0479</span>     <span class="fl">0.5333</span>    <span class="fl">0.7206</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    <span class="dv">66</span>       <span class="dv">63</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6251</span>    <span class="fl">0.0482</span>     <span class="fl">0.5230</span>    <span class="fl">0.7113</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="dv">68</span>       <span class="dv">62</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.6049</span>    <span class="fl">0.0487</span>     <span class="fl">0.5026</span>    <span class="fl">0.6926</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="dv">69</span>       <span class="dv">60</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5948</span>    <span class="fl">0.0489</span>     <span class="fl">0.4924</span>    <span class="fl">0.6832</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    <span class="dv">72</span>       <span class="dv">59</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.5747</span>    <span class="fl">0.0493</span>     <span class="fl">0.4722</span>    <span class="fl">0.6643</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    <span class="dv">77</span>       <span class="dv">57</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5646</span>    <span class="fl">0.0494</span>     <span class="fl">0.4621</span>    <span class="fl">0.6548</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    <span class="dv">78</span>       <span class="dv">56</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5545</span>    <span class="fl">0.0496</span>     <span class="fl">0.4521</span>    <span class="fl">0.6453</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    <span class="dv">80</span>       <span class="dv">55</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5444</span>    <span class="fl">0.0497</span>     <span class="fl">0.4422</span>    <span class="fl">0.6357</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    <span class="dv">81</span>       <span class="dv">54</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5343</span>    <span class="fl">0.0498</span>     <span class="fl">0.4323</span>    <span class="fl">0.6261</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>    <span class="dv">85</span>       <span class="dv">53</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5243</span>    <span class="fl">0.0499</span>     <span class="fl">0.4224</span>    <span class="fl">0.6164</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>    <span class="dv">90</span>       <span class="dv">52</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5142</span>    <span class="fl">0.0499</span>     <span class="fl">0.4125</span>    <span class="fl">0.6067</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>    <span class="dv">96</span>       <span class="dv">51</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5041</span>    <span class="fl">0.0499</span>     <span class="fl">0.4027</span>    <span class="fl">0.5969</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>   <span class="dv">100</span>       <span class="dv">50</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4940</span>    <span class="fl">0.0499</span>     <span class="fl">0.3930</span>    <span class="fl">0.5872</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>   <span class="dv">102</span>       <span class="dv">49</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4839</span>    <span class="fl">0.0499</span>     <span class="fl">0.3833</span>    <span class="fl">0.5773</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>   <span class="dv">109</span>       <span class="dv">48</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.4839</span>    <span class="fl">0.0499</span>     <span class="fl">0.3833</span>    <span class="fl">0.5773</span></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>   <span class="dv">110</span>       <span class="dv">47</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4736</span>    <span class="fl">0.0499</span>     <span class="fl">0.3733</span>    <span class="fl">0.5673</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>   <span class="dv">131</span>       <span class="dv">46</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.4736</span>    <span class="fl">0.0499</span>     <span class="fl">0.3733</span>    <span class="fl">0.5673</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>   <span class="dv">149</span>       <span class="dv">45</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4631</span>    <span class="fl">0.0499</span>     <span class="fl">0.3632</span>    <span class="fl">0.5571</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>   <span class="dv">153</span>       <span class="dv">44</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4526</span>    <span class="fl">0.0499</span>     <span class="fl">0.3531</span>    <span class="fl">0.5468</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>   <span class="dv">165</span>       <span class="dv">43</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4421</span>    <span class="fl">0.0498</span>     <span class="fl">0.3430</span>    <span class="fl">0.5364</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>   <span class="dv">180</span>       <span class="dv">42</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.4421</span>    <span class="fl">0.0498</span>     <span class="fl">0.3430</span>    <span class="fl">0.5364</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>   <span class="dv">186</span>       <span class="dv">41</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4313</span>    <span class="fl">0.0497</span>     <span class="fl">0.3327</span>    <span class="fl">0.5258</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>   <span class="dv">188</span>       <span class="dv">40</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4205</span>    <span class="fl">0.0497</span>     <span class="fl">0.3225</span>    <span class="fl">0.5152</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>   <span class="dv">207</span>       <span class="dv">39</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4097</span>    <span class="fl">0.0495</span>     <span class="fl">0.3123</span>    <span class="fl">0.5045</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>   <span class="dv">219</span>       <span class="dv">38</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3989</span>    <span class="fl">0.0494</span>     <span class="fl">0.3022</span>    <span class="fl">0.4938</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>   <span class="dv">263</span>       <span class="dv">37</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3881</span>    <span class="fl">0.0492</span>     <span class="fl">0.2921</span>    <span class="fl">0.4830</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>   <span class="dv">265</span>       <span class="dv">36</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3881</span>    <span class="fl">0.0492</span>     <span class="fl">0.2921</span>    <span class="fl">0.4830</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>   <span class="dv">285</span>       <span class="dv">35</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.3660</span>    <span class="fl">0.0488</span>     <span class="fl">0.2714</span>    <span class="fl">0.4608</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>   <span class="dv">308</span>       <span class="dv">33</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3549</span>    <span class="fl">0.0486</span>     <span class="fl">0.2612</span>    <span class="fl">0.4496</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>   <span class="dv">334</span>       <span class="dv">32</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3438</span>    <span class="fl">0.0483</span>     <span class="fl">0.2510</span>    <span class="fl">0.4383</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>   <span class="dv">340</span>       <span class="dv">31</span>      <span class="dv">1</span>      <span class="dv">1</span>             <span class="fl">0.3327</span>    <span class="fl">0.0480</span>     <span class="fl">0.2409</span>    <span class="fl">0.4270</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>   <span class="dv">342</span>       <span class="dv">29</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>   <span class="dv">370</span>       <span class="dv">28</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>   <span class="dv">397</span>       <span class="dv">27</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>   <span class="dv">427</span>       <span class="dv">26</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>   <span class="dv">445</span>       <span class="dv">25</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>   <span class="dv">482</span>       <span class="dv">24</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>   <span class="dv">515</span>       <span class="dv">23</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>   <span class="dv">545</span>       <span class="dv">22</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>   <span class="dv">583</span>       <span class="dv">21</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>   <span class="dv">596</span>       <span class="dv">20</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>   <span class="dv">620</span>       <span class="dv">19</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>   <span class="dv">670</span>       <span class="dv">18</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>   <span class="dv">675</span>       <span class="dv">17</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2879</span>    <span class="fl">0.0483</span>     <span class="fl">0.1976</span>    <span class="fl">0.3844</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>   <span class="dv">733</span>       <span class="dv">16</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2699</span>    <span class="fl">0.0485</span>     <span class="fl">0.1802</span>    <span class="fl">0.3676</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>   <span class="dv">841</span>       <span class="dv">15</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.2699</span>    <span class="fl">0.0485</span>     <span class="fl">0.1802</span>    <span class="fl">0.3676</span></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>   <span class="dv">852</span>       <span class="dv">14</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2507</span>    <span class="fl">0.0487</span>     <span class="fl">0.1616</span>    <span class="fl">0.3497</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>   <span class="dv">915</span>       <span class="dv">13</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.2507</span>    <span class="fl">0.0487</span>     <span class="fl">0.1616</span>    <span class="fl">0.3497</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>   <span class="dv">941</span>       <span class="dv">12</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.2507</span>    <span class="fl">0.0487</span>     <span class="fl">0.1616</span>    <span class="fl">0.3497</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>   <span class="dv">979</span>       <span class="dv">11</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2279</span>    <span class="fl">0.0493</span>     <span class="fl">0.1394</span>    <span class="fl">0.3295</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>   <span class="dv">995</span>       <span class="dv">10</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2051</span>    <span class="fl">0.0494</span>     <span class="fl">0.1183</span>    <span class="fl">0.3085</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1032</span>        <span class="dv">9</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.1823</span>    <span class="fl">0.0489</span>     <span class="fl">0.0985</span>    <span class="fl">0.2865</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1141</span>        <span class="dv">8</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1823</span>    <span class="fl">0.0489</span>     <span class="fl">0.0985</span>    <span class="fl">0.2865</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1321</span>        <span class="dv">7</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1823</span>    <span class="fl">0.0489</span>     <span class="fl">0.0985</span>    <span class="fl">0.2865</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1386</span>        <span class="dv">6</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1400</span>        <span class="dv">5</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1407</span>        <span class="dv">4</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1571</span>        <span class="dv">3</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1586</span>        <span class="dv">2</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1799</span>        <span class="dv">1</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Durée médiane: <span class="math inline">\(t=100\)</span> (correspond à <span class="math inline">\(S(t)=0.4940\)</span>).</p>
<p><img src="images/Image8.png" class="img-fluid" style="width:80.0%"></p>
</section>
</section>
<section id="quantités-associées" class="level1">
<h1>Quantités associées</h1>
<p>A partir de l’estimateur Kaplan-Meier.. <br></p>
<p><strong>Le risque cumulé</strong>: estimateur de Nelson AAlen<br>
Il est simplément égal à: <span class="math display">\[H(t)=\sum_{t_i\leq k}q(t_i)\]</span></p>
<p><img src="images/Image19.png" class="img-fluid" style="width:70.0%"></p>
<p><strong>Le risque instantané</strong><br>
Nécessite l’estimateur de Nelson-Aalen. Le risque est obtenu en lissant les différences - toujours positive - entre <span class="math inline">\(H(t)\)</span> par la méthode dite du <strong>kernel</strong>. Elle permet d’obtenir une fonction continue avec la durée (paramétrables sur les largeurs des fenêtres de lissage). D’autres méthodes de lissage sont maintenant possibles, et de plus en plus utilisées, en particulier celles utilisant des splines.</p>
<p><img src="images/Image20.png" class="img-fluid" style="width:70.0%"></p>
<p><br></p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="./comp_fsurvie.html" class="pagination-link">
        <span class="nav-page-text">Tests de comparaison</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb3" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Les fonctions de survie"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>Les méthodes non paramétriques portent généralement sur l'analyse des</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>fonctions de survie ($S(t$)) ou sur celle des fonctions de répartitions ($F(t)$),</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>plus rarement sur les mesures d'incidence données par le risque cumulé.</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>Deux méthodes d'estimations sont proposées : la méthode dite actuarielle</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>et la méthode dite de Kaplan &amp; Meier. Ces deux approches sont adaptées à</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>des mesures différentes de la durée : plutôt discrèt/groupées pour la technique</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>actuarielle et plutôt continue pour Kaplan-Meier (KM). Cela induit un</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>traitement différent de la censure dans l'estimation. La seconde est de</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>très très loin la plus diffusée, surement en raison des tests de</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>comparaison qu'elle propose.</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Les fonctions de survie/séjour**</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="fu">## **Les variables d'analyse**</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>On a un échantillon aléatoire de $n$ individus avec:</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Des indicateurs de fin d'épisode $e_1,e_2,....,e_k$ avec $e_i=0$ si</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    censure à droite et $e_i=1$ si évènement observé pendant la période</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    d'observation.</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Des durées d'exposition au risque $t_1,t_2,....,t_k$ jusqu'à</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    l'évènement ou la censure.</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>En théorie, il ne peut pas y avoir d'évènement en $t=0$.</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="fu">## **Calcul de la fonction de survie**</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>Rappel: La fonction de survie donne la probabilité que l'évènement</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>survienne après $t_i$, soit $S(t_i)=P(T&gt;t_i)$.\</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>Pour survivre en $t_i$, il faut avoir survécu en $t_{i-1}$, $t_{i-2}$,</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>...., $t_{1}$.\</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>La fonction de survie rapporte donc des probabilités conditionnelles:</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>survivre en $t_i$ conditionnellement au fait d'y avoir survécu avant. Il</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>s'agit donc d'un produit de probabilités:\</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>Soit $d_i=\sum e_i$ le nombre d'évènements observé en $t_i$ et $r_i$ la</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>population encore soumise au risque en $i$. On peut mesurer l'intensité</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>de l'évènement en $t_i$ en calculant le quotient</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>$q(t_i)=\frac{d_i}{r_i}$. Si le temps est strictement continu on devrait</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>toujours avoir $q(t_i)=\frac{1}{r_i}$.</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>$S(t_i) = (1 - \frac{d_i}{r_i})\times{S(t_{i-1})} = S(t_i) = (1 - q(t_i))\times{S(t_{i-1})}$.</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>En remplaçant $S(t_{i-1})$ par sa valeur:</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>$S(t_i) = (1 - \frac{d_i}{r_i})\times(1 - \frac{d_{i-1}}{r_{i-1}})\times{S(t_{i-2})}$.\</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span> En remplaçant toutes les expressions de la survie jusqu'en $t_0$</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>($S(0)=1$):\</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>$$S(t_i)=\displaystyle \prod_{t_i\leq{k}} (1-q(t_i))$$</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;BR&gt;</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>**Application pour la suite de la formation**</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>On va analyser le risque de décéder (la survie) de personnes</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>    souffrant d'une insuffisance cardiaque. Le début de l'exposition est</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>    leur inscription dans un registre d'attente pour une greffe du</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>    coeur.</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Les covariables sont dans un premier temps toutes fixes: l'année</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>    (*year*) et l'âge (*age*) à l'entrée dans le registre, et le fait</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>    d'avoir été opéré pour un pontage aorto-coronarien avant</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>    l'inscription (*surgery*). Le début de l'exposition au risque est</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>    l'entrée dans le registre, la durée est mesurée en jour (*stime*).</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>    La variable évènement/censure est le décès (*died*).</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>L'introduction d'une dimension dynamique, la greffe, est donnée par</span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>    les informations contenues dans les variables *transplant* et</span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>    *wait*.</span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="sc">\[</span>Mettre liens git avec la base en .csv, .dta, .sas7bdat<span class="sc">\]</span></span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a>|  id | year | age | died | stime | surgery | transplant | wait | mois | compet |</span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a>|-----|------|-----|------|-------|---------|------------|------|------|--------|</span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>| 15  | 68   | 53  | 1    | 1     | 0       | 0          | 0    | 1    | 1      |</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>| 43  | 70   | 43  | 1    | 2     | 0       | 0          | 0    | 1    | 1      |</span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>| 61  | 71   | 52  | 1    | 2     | 0       | 0          | 0    | 1    | 1      |</span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>| 75  | 72   | 52  | 1    | 2     | 0       | 0          | 0    | 1    | 1      |</span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>| 102 | 74   | 40  | 0    | 11    | 0       | 0          | 0    | 1    | 0      |</span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>| 74  | 72   | 29  | 1    | 17    | 0       | 1          | 5    | 1    | 2      |</span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a><span class="fu"># **La méthode actuarielle**</span></span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Estimation sur des intervalles définies par l'utilisateur.</span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Méthode dite «continue», estimation en milieu d'intevalle.</span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Méthode apropriée lorsque la durée est mesurée de manière discrète/groupée.</span>
<span id="cb3-106"><a href="#cb3-106" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Méthode, hélas, quasiment abandonnée dans les sciences</span>
<span id="cb3-107"><a href="#cb3-107" aria-hidden="true" tabindex="-1"></a>    sociales même si les durées sont plus rarement mesurées de manière</span>
<span id="cb3-108"><a href="#cb3-108" aria-hidden="true" tabindex="-1"></a>    exacte. L'absence de test de comparaison des fonctions de survie n'y</span>
<span id="cb3-109"><a href="#cb3-109" aria-hidden="true" tabindex="-1"></a>    est pas étranger.</span>
<span id="cb3-110"><a href="#cb3-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-111"><a href="#cb3-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-112"><a href="#cb3-112" aria-hidden="true" tabindex="-1"></a><span class="fu">## Estimation</span></span>
<span id="cb3-113"><a href="#cb3-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-114"><a href="#cb3-114" aria-hidden="true" tabindex="-1"></a>**Echelle temporelle**</span>
<span id="cb3-115"><a href="#cb3-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-116"><a href="#cb3-116" aria-hidden="true" tabindex="-1"></a>La durée est divisée en $J$ intervalles, en choisissant $J$ points:</span>
<span id="cb3-117"><a href="#cb3-117" aria-hidden="true" tabindex="-1"></a>$t_0&lt;t_1&lt;...&lt;t_J$ avec $t_{J+1}=\infty$.</span>
<span id="cb3-118"><a href="#cb3-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-119"><a href="#cb3-119" aria-hidden="true" tabindex="-1"></a>**Calcul du Risk set**</span>
<span id="cb3-120"><a href="#cb3-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-121"><a href="#cb3-121" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A $t_{min}=0$, $n_0=n$ individus soumis au risque: $r_0=n_0$.</span>
<span id="cb3-122"><a href="#cb3-122" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Le nombre d'exposé.e.s au risque sur un intervalle est calculé en</span>
<span id="cb3-123"><a href="#cb3-123" aria-hidden="true" tabindex="-1"></a>    soustrayant la moitié des cas censurés sur la longueur de</span>
<span id="cb3-124"><a href="#cb3-124" aria-hidden="true" tabindex="-1"></a>    l'intervalle: $r_i=n_i- 0.5\times{c_i}$, avec $n_i$ le nombre de</span>
<span id="cb3-125"><a href="#cb3-125" aria-hidden="true" tabindex="-1"></a>    personnes soumises au risque au début de l'intervalle et $c_i$ le</span>
<span id="cb3-126"><a href="#cb3-126" aria-hidden="true" tabindex="-1"></a>    nombre d'observations censurées sur la longueur de l'intervalle. On</span>
<span id="cb3-127"><a href="#cb3-127" aria-hidden="true" tabindex="-1"></a>    suppose donc que les observations censurées $c_i$ sont sorties de</span>
<span id="cb3-128"><a href="#cb3-128" aria-hidden="true" tabindex="-1"></a>    l'observation uniformément sur l'intervalle. Les cas censurés le</span>
<span id="cb3-129"><a href="#cb3-129" aria-hidden="true" tabindex="-1"></a>    sont en moyenne au millieu de l'intervalle. <span class="kw">&lt;br&gt;</span></span>
<span id="cb3-130"><a href="#cb3-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-131"><a href="#cb3-131" aria-hidden="true" tabindex="-1"></a>**Calcul de** $S(t_i)$\</span>
<span id="cb3-132"><a href="#cb3-132" aria-hidden="true" tabindex="-1"></a>On applique la méthode de la section précédente avec:</span>
<span id="cb3-133"><a href="#cb3-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-134"><a href="#cb3-134" aria-hidden="true" tabindex="-1"></a>$$q(t_i)=\frac{d_i}{n_i - 0.5\times c_i}$$</span>
<span id="cb3-135"><a href="#cb3-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-136"><a href="#cb3-136" aria-hidden="true" tabindex="-1"></a>**Calcul de la durée médiane (ou autre quantiles)**  </span>
<span id="cb3-137"><a href="#cb3-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-138"><a href="#cb3-138" aria-hidden="true" tabindex="-1"></a>*Rappel*: en raison de la présence de censures à droite, le dernier</span>
<span id="cb3-139"><a href="#cb3-139" aria-hidden="true" tabindex="-1"></a>intervalle étant ouvert jusqu'à la dernière sortie d'observation, il</span>
<span id="cb3-140"><a href="#cb3-140" aria-hidden="true" tabindex="-1"></a>n'est pas conseillé de calculer des durées moyennes. On préfère utiliser</span>
<span id="cb3-141"><a href="#cb3-141" aria-hidden="true" tabindex="-1"></a>la médiane ou tout autre quantile lorsqu'ils sont calculables.   </span>
<span id="cb3-142"><a href="#cb3-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-143"><a href="#cb3-143" aria-hidden="true" tabindex="-1"></a>**Définition**: il s'agit de la durée telle que $S(t_i)=0.5$.  </span>
<span id="cb3-144"><a href="#cb3-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-145"><a href="#cb3-145" aria-hidden="true" tabindex="-1"></a>*Calcul*: Comme on applique une méthode continue et monotone à</span>
<span id="cb3-146"><a href="#cb3-146" aria-hidden="true" tabindex="-1"></a>l'intérieur d'intervalles, on ne peut pas calculer directement un point</span>
<span id="cb3-147"><a href="#cb3-147" aria-hidden="true" tabindex="-1"></a>de coupure qui correspond à 50% de survivants. On doit donc trouver ce</span>
<span id="cb3-148"><a href="#cb3-148" aria-hidden="true" tabindex="-1"></a>point par interpolation linéaire dans l'intervalle $[t_i;t_{i+1}[$ avec</span>
<span id="cb3-149"><a href="#cb3-149" aria-hidden="true" tabindex="-1"></a>$S(t_{i+1})\leq0.5$ et $S(t_{i})&gt;0.5$.</span>
<span id="cb3-150"><a href="#cb3-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-151"><a href="#cb3-151" aria-hidden="true" tabindex="-1"></a><span class="fu">## R-Stata-Sas-Python</span></span>
<span id="cb3-152"><a href="#cb3-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-153"><a href="#cb3-153" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb3-154"><a href="#cb3-154" aria-hidden="true" tabindex="-1"></a><span class="fu">### R</span></span>
<span id="cb3-155"><a href="#cb3-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-156"><a href="#cb3-156" aria-hidden="true" tabindex="-1"></a>Les fonctions de survie avec la méthode dite actuarielle sont estimables avec le package **`discSurv`**. Avec le temps, il s'est étoffé, on peut maintenant paramatrer des intervalles, mais les quantiles de la durées ne sont toujours pas estimables, ce qui est fort dommage.  </span>
<span id="cb3-157"><a href="#cb3-157" aria-hidden="true" tabindex="-1"></a>Dans les résulats qui suivent, ces quantiles ont été estimés avec Stata en retenant la définition des bornes de Sas.</span>
<span id="cb3-158"><a href="#cb3-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-159"><a href="#cb3-159" aria-hidden="true" tabindex="-1"></a><span class="fu">### Stata</span></span>
<span id="cb3-160"><a href="#cb3-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-161"><a href="#cb3-161" aria-hidden="true" tabindex="-1"></a>Commande <span class="in">`ltable`</span>, avec en option la paramétrisation des intervalles de</span>
<span id="cb3-162"><a href="#cb3-162" aria-hidden="true" tabindex="-1"></a>durées. Voir la commande externe <span class="in">`qlt`</span> (MT) qui calcule les durées</span>
<span id="cb3-163"><a href="#cb3-163" aria-hidden="true" tabindex="-1"></a>médianes (+ autres quartiles) et qui recalcule la fonction de séjour</span>
<span id="cb3-164"><a href="#cb3-164" aria-hidden="true" tabindex="-1"></a>avec une définition des intervalles de durées identique à celle de SAS.</span>
<span id="cb3-165"><a href="#cb3-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-166"><a href="#cb3-166" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sas</span></span>
<span id="cb3-167"><a href="#cb3-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-168"><a href="#cb3-168" aria-hidden="true" tabindex="-1"></a>Sous une <span class="in">`proc lifetest`</span> avec en option <span class="in">`method=lifetable`</span>. On peut</span>
<span id="cb3-169"><a href="#cb3-169" aria-hidden="true" tabindex="-1"></a>paramétrer les intervalles d'estimation avec l'option <span class="in">`width`</span>.</span>
<span id="cb3-170"><a href="#cb3-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-171"><a href="#cb3-171" aria-hidden="true" tabindex="-1"></a><span class="fu">### Python</span></span>
<span id="cb3-172"><a href="#cb3-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-173"><a href="#cb3-173" aria-hidden="true" tabindex="-1"></a>A l'heure actuelle, aucune fonction à ma connaissance</span>
<span id="cb3-174"><a href="#cb3-174" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb3-175"><a href="#cb3-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-176"><a href="#cb3-176" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Stata**: commande <span class="in">`ltable`</span>. Voir la commande externe <span class="in">`qlt`</span> (MT)</span>
<span id="cb3-177"><a href="#cb3-177" aria-hidden="true" tabindex="-1"></a>    qui calcule les durées médianes (+ autres quartiles) et qui cale la</span>
<span id="cb3-178"><a href="#cb3-178" aria-hidden="true" tabindex="-1"></a>    définition des intervalles avec celle de SAS.</span>
<span id="cb3-179"><a href="#cb3-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-180"><a href="#cb3-180" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**R**: une fonction programmée par un utilisateur (package</span>
<span id="cb3-181"><a href="#cb3-181" aria-hidden="true" tabindex="-1"></a>    <span class="in">`discSurv`</span> =<span class="sc">\&gt;</span> fonction <span class="in">`lifeTable`</span>), mais pas convaincante car pas</span>
<span id="cb3-182"><a href="#cb3-182" aria-hidden="true" tabindex="-1"></a>    d'estimation sur les quantiles, et estimation avec des intervalles</span>
<span id="cb3-183"><a href="#cb3-183" aria-hidden="true" tabindex="-1"></a>    toujours fixés à $dt=1$. D'un intérêt très limité, voire nul.\</span>
<span id="cb3-184"><a href="#cb3-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-185"><a href="#cb3-185" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Python**: à l'heure actuelle, aucune fonction à ma connaissance.</span>
<span id="cb3-186"><a href="#cb3-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-187"><a href="#cb3-187" aria-hidden="true" tabindex="-1"></a><span class="fu">## Application</span></span>
<span id="cb3-188"><a href="#cb3-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-189"><a href="#cb3-189" aria-hidden="true" tabindex="-1"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb3-190"><a href="#cb3-190" aria-hidden="true" tabindex="-1"></a>                 Beg.                                 Std.</span>
<span id="cb3-191"><a href="#cb3-191" aria-hidden="true" tabindex="-1"></a>   Interval     Total   Deaths   Lost    Survival    Error     [<span class="dv">95</span>% Conf. Int.]</span>
<span id="cb3-192"><a href="#cb3-192" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb3-193"><a href="#cb3-193" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>    <span class="dv">10</span>       <span class="dv">103</span>       <span class="dv">13</span>      <span class="dv">0</span>     <span class="fl">0.8738</span>    <span class="fl">0.0327</span>     <span class="fl">0.7926</span>    <span class="fl">0.9247</span></span>
<span id="cb3-194"><a href="#cb3-194" aria-hidden="true" tabindex="-1"></a>   <span class="dv">10</span>    <span class="dv">20</span>        <span class="dv">90</span>        <span class="dv">6</span>      <span class="dv">1</span>     <span class="fl">0.8152</span>    <span class="fl">0.0383</span>     <span class="fl">0.7257</span>    <span class="fl">0.8779</span></span>
<span id="cb3-195"><a href="#cb3-195" aria-hidden="true" tabindex="-1"></a>   <span class="dv">20</span>    <span class="dv">30</span>        <span class="dv">83</span>        <span class="dv">3</span>      <span class="dv">0</span>     <span class="fl">0.7857</span>    <span class="fl">0.0405</span>     <span class="fl">0.6931</span>    <span class="fl">0.8533</span></span>
<span id="cb3-196"><a href="#cb3-196" aria-hidden="true" tabindex="-1"></a>   <span class="dv">30</span>    <span class="dv">40</span>        <span class="dv">80</span>        <span class="dv">6</span>      <span class="dv">2</span>     <span class="fl">0.7261</span>    <span class="fl">0.0441</span>     <span class="fl">0.6284</span>    <span class="fl">0.8020</span></span>
<span id="cb3-197"><a href="#cb3-197" aria-hidden="true" tabindex="-1"></a>   <span class="dv">40</span>    <span class="dv">50</span>        <span class="dv">72</span>        <span class="dv">4</span>      <span class="dv">0</span>     <span class="fl">0.6857</span>    <span class="fl">0.0461</span>     <span class="fl">0.5857</span>    <span class="fl">0.7664</span></span>
<span id="cb3-198"><a href="#cb3-198" aria-hidden="true" tabindex="-1"></a>   <span class="dv">50</span>    <span class="dv">60</span>        <span class="dv">68</span>        <span class="dv">4</span>      <span class="dv">0</span>     <span class="fl">0.6454</span>    <span class="fl">0.0476</span>     <span class="fl">0.5439</span>    <span class="fl">0.7299</span></span>
<span id="cb3-199"><a href="#cb3-199" aria-hidden="true" tabindex="-1"></a>   <span class="dv">60</span>    <span class="dv">70</span>        <span class="dv">64</span>        <span class="dv">5</span>      <span class="dv">0</span>     <span class="fl">0.5950</span>    <span class="fl">0.0489</span>     <span class="fl">0.4926</span>    <span class="fl">0.6834</span></span>
<span id="cb3-200"><a href="#cb3-200" aria-hidden="true" tabindex="-1"></a>   <span class="dv">70</span>    <span class="dv">80</span>        <span class="dv">59</span>        <span class="dv">4</span>      <span class="dv">0</span>     <span class="fl">0.5546</span>    <span class="fl">0.0496</span>     <span class="fl">0.4523</span>    <span class="fl">0.6454</span></span>
<span id="cb3-201"><a href="#cb3-201" aria-hidden="true" tabindex="-1"></a>   <span class="dv">80</span>    <span class="dv">90</span>        <span class="dv">55</span>        <span class="dv">3</span>      <span class="dv">0</span>     <span class="fl">0.5244</span>    <span class="fl">0.0499</span>     <span class="fl">0.4225</span>    <span class="fl">0.6165</span></span>
<span id="cb3-202"><a href="#cb3-202" aria-hidden="true" tabindex="-1"></a>   <span class="dv">90</span>   <span class="dv">100</span>        <span class="dv">52</span>        <span class="dv">2</span>      <span class="dv">0</span>     <span class="fl">0.5042</span>    <span class="fl">0.0499</span>     <span class="fl">0.4029</span>    <span class="fl">0.5971</span></span>
<span id="cb3-203"><a href="#cb3-203" aria-hidden="true" tabindex="-1"></a>  <span class="dv">100</span>   <span class="dv">110</span>        <span class="dv">50</span>        <span class="dv">2</span>      <span class="dv">1</span>     <span class="fl">0.4838</span>    <span class="fl">0.0500</span>     <span class="fl">0.3831</span>    <span class="fl">0.5773</span></span>
<span id="cb3-204"><a href="#cb3-204" aria-hidden="true" tabindex="-1"></a>  <span class="dv">110</span>   <span class="dv">120</span>        <span class="dv">47</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4735</span>    <span class="fl">0.0499</span>     <span class="fl">0.3732</span>    <span class="fl">0.5673</span></span>
<span id="cb3-205"><a href="#cb3-205" aria-hidden="true" tabindex="-1"></a>  <span class="dv">130</span>   <span class="dv">140</span>        <span class="dv">46</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.4735</span>    <span class="fl">0.0499</span>     <span class="fl">0.3732</span>    <span class="fl">0.5673</span></span>
<span id="cb3-206"><a href="#cb3-206" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140</span>   <span class="dv">150</span>        <span class="dv">45</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4630</span>    <span class="fl">0.0499</span>     <span class="fl">0.3631</span>    <span class="fl">0.5570</span></span>
<span id="cb3-207"><a href="#cb3-207" aria-hidden="true" tabindex="-1"></a>  <span class="dv">150</span>   <span class="dv">160</span>        <span class="dv">44</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4525</span>    <span class="fl">0.0499</span>     <span class="fl">0.3530</span>    <span class="fl">0.5467</span></span>
<span id="cb3-208"><a href="#cb3-208" aria-hidden="true" tabindex="-1"></a>  <span class="dv">160</span>   <span class="dv">170</span>        <span class="dv">43</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4420</span>    <span class="fl">0.0498</span>     <span class="fl">0.3429</span>    <span class="fl">0.5364</span></span>
<span id="cb3-209"><a href="#cb3-209" aria-hidden="true" tabindex="-1"></a>  <span class="dv">180</span>   <span class="dv">190</span>        <span class="dv">42</span>        <span class="dv">2</span>      <span class="dv">1</span>     <span class="fl">0.4207</span>    <span class="fl">0.0496</span>     <span class="fl">0.3227</span>    <span class="fl">0.5154</span></span>
<span id="cb3-210"><a href="#cb3-210" aria-hidden="true" tabindex="-1"></a>  <span class="dv">200</span>   <span class="dv">210</span>        <span class="dv">39</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.4099</span>    <span class="fl">0.0495</span>     <span class="fl">0.3125</span>    <span class="fl">0.5047</span></span>
<span id="cb3-211"><a href="#cb3-211" aria-hidden="true" tabindex="-1"></a>  <span class="dv">210</span>   <span class="dv">220</span>        <span class="dv">38</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3991</span>    <span class="fl">0.0494</span>     <span class="fl">0.3024</span>    <span class="fl">0.4939</span></span>
<span id="cb3-212"><a href="#cb3-212" aria-hidden="true" tabindex="-1"></a>  <span class="dv">260</span>   <span class="dv">270</span>        <span class="dv">37</span>        <span class="dv">1</span>      <span class="dv">1</span>     <span class="fl">0.3882</span>    <span class="fl">0.0492</span>     <span class="fl">0.2921</span>    <span class="fl">0.4830</span></span>
<span id="cb3-213"><a href="#cb3-213" aria-hidden="true" tabindex="-1"></a>  <span class="dv">280</span>   <span class="dv">290</span>        <span class="dv">35</span>        <span class="dv">2</span>      <span class="dv">0</span>     <span class="fl">0.3660</span>    <span class="fl">0.0489</span>     <span class="fl">0.2714</span>    <span class="fl">0.4608</span></span>
<span id="cb3-214"><a href="#cb3-214" aria-hidden="true" tabindex="-1"></a>  <span class="dv">300</span>   <span class="dv">310</span>        <span class="dv">33</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3549</span>    <span class="fl">0.0486</span>     <span class="fl">0.2612</span>    <span class="fl">0.4496</span></span>
<span id="cb3-215"><a href="#cb3-215" aria-hidden="true" tabindex="-1"></a>  <span class="dv">330</span>   <span class="dv">340</span>        <span class="dv">32</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3438</span>    <span class="fl">0.0483</span>     <span class="fl">0.2510</span>    <span class="fl">0.4383</span></span>
<span id="cb3-216"><a href="#cb3-216" aria-hidden="true" tabindex="-1"></a>  <span class="dv">340</span>   <span class="dv">350</span>        <span class="dv">31</span>        <span class="dv">2</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-217"><a href="#cb3-217" aria-hidden="true" tabindex="-1"></a>  <span class="dv">370</span>   <span class="dv">380</span>        <span class="dv">28</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-218"><a href="#cb3-218" aria-hidden="true" tabindex="-1"></a>  <span class="dv">390</span>   <span class="dv">400</span>        <span class="dv">27</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-219"><a href="#cb3-219" aria-hidden="true" tabindex="-1"></a>  <span class="dv">420</span>   <span class="dv">430</span>        <span class="dv">26</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-220"><a href="#cb3-220" aria-hidden="true" tabindex="-1"></a>  <span class="dv">440</span>   <span class="dv">450</span>        <span class="dv">25</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-221"><a href="#cb3-221" aria-hidden="true" tabindex="-1"></a>  <span class="dv">480</span>   <span class="dv">490</span>        <span class="dv">24</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-222"><a href="#cb3-222" aria-hidden="true" tabindex="-1"></a>  <span class="dv">510</span>   <span class="dv">520</span>        <span class="dv">23</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-223"><a href="#cb3-223" aria-hidden="true" tabindex="-1"></a>  <span class="dv">540</span>   <span class="dv">550</span>        <span class="dv">22</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3213</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-224"><a href="#cb3-224" aria-hidden="true" tabindex="-1"></a>  <span class="dv">580</span>   <span class="dv">590</span>        <span class="dv">21</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.3060</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb3-225"><a href="#cb3-225" aria-hidden="true" tabindex="-1"></a>  <span class="dv">590</span>   <span class="dv">600</span>        <span class="dv">20</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3060</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb3-226"><a href="#cb3-226" aria-hidden="true" tabindex="-1"></a>  <span class="dv">620</span>   <span class="dv">630</span>        <span class="dv">19</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.3060</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb3-227"><a href="#cb3-227" aria-hidden="true" tabindex="-1"></a>  <span class="dv">670</span>   <span class="dv">680</span>        <span class="dv">18</span>        <span class="dv">1</span>      <span class="dv">1</span>     <span class="fl">0.2885</span>    <span class="fl">0.0482</span>     <span class="fl">0.1983</span>    <span class="fl">0.3847</span></span>
<span id="cb3-228"><a href="#cb3-228" aria-hidden="true" tabindex="-1"></a>  <span class="dv">730</span>   <span class="dv">740</span>        <span class="dv">16</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2705</span>    <span class="fl">0.0484</span>     <span class="fl">0.1808</span>    <span class="fl">0.3680</span></span>
<span id="cb3-229"><a href="#cb3-229" aria-hidden="true" tabindex="-1"></a>  <span class="dv">840</span>   <span class="dv">850</span>        <span class="dv">15</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.2705</span>    <span class="fl">0.0484</span>     <span class="fl">0.1808</span>    <span class="fl">0.3680</span></span>
<span id="cb3-230"><a href="#cb3-230" aria-hidden="true" tabindex="-1"></a>  <span class="dv">850</span>   <span class="dv">860</span>        <span class="dv">14</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2511</span>    <span class="fl">0.0487</span>     <span class="fl">0.1622</span>    <span class="fl">0.3501</span></span>
<span id="cb3-231"><a href="#cb3-231" aria-hidden="true" tabindex="-1"></a>  <span class="dv">910</span>   <span class="dv">920</span>        <span class="dv">13</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.2511</span>    <span class="fl">0.0487</span>     <span class="fl">0.1622</span>    <span class="fl">0.3501</span></span>
<span id="cb3-232"><a href="#cb3-232" aria-hidden="true" tabindex="-1"></a>  <span class="dv">940</span>   <span class="dv">950</span>        <span class="dv">12</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.2511</span>    <span class="fl">0.0487</span>     <span class="fl">0.1622</span>    <span class="fl">0.3501</span></span>
<span id="cb3-233"><a href="#cb3-233" aria-hidden="true" tabindex="-1"></a>  <span class="dv">970</span>   <span class="dv">980</span>        <span class="dv">11</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2283</span>    <span class="fl">0.0493</span>     <span class="fl">0.1398</span>    <span class="fl">0.3299</span></span>
<span id="cb3-234"><a href="#cb3-234" aria-hidden="true" tabindex="-1"></a>  <span class="dv">990</span>  <span class="dv">1000</span>        <span class="dv">10</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.2055</span>    <span class="fl">0.0494</span>     <span class="fl">0.1187</span>    <span class="fl">0.3088</span></span>
<span id="cb3-235"><a href="#cb3-235" aria-hidden="true" tabindex="-1"></a> <span class="dv">1030</span>  <span class="dv">1040</span>         <span class="dv">9</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.1826</span>    <span class="fl">0.0489</span>     <span class="fl">0.0988</span>    <span class="fl">0.2869</span></span>
<span id="cb3-236"><a href="#cb3-236" aria-hidden="true" tabindex="-1"></a> <span class="dv">1140</span>  <span class="dv">1150</span>         <span class="dv">8</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1826</span>    <span class="fl">0.0489</span>     <span class="fl">0.0988</span>    <span class="fl">0.2869</span></span>
<span id="cb3-237"><a href="#cb3-237" aria-hidden="true" tabindex="-1"></a> <span class="dv">1320</span>  <span class="dv">1330</span>         <span class="dv">7</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1826</span>    <span class="fl">0.0489</span>     <span class="fl">0.0988</span>    <span class="fl">0.2869</span></span>
<span id="cb3-238"><a href="#cb3-238" aria-hidden="true" tabindex="-1"></a> <span class="dv">1380</span>  <span class="dv">1390</span>         <span class="dv">6</span>        <span class="dv">1</span>      <span class="dv">0</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb3-239"><a href="#cb3-239" aria-hidden="true" tabindex="-1"></a> <span class="dv">1400</span>  <span class="dv">1410</span>         <span class="dv">5</span>        <span class="dv">0</span>      <span class="dv">2</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb3-240"><a href="#cb3-240" aria-hidden="true" tabindex="-1"></a> <span class="dv">1570</span>  <span class="dv">1580</span>         <span class="dv">3</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb3-241"><a href="#cb3-241" aria-hidden="true" tabindex="-1"></a> <span class="dv">1580</span>  <span class="dv">1590</span>         <span class="dv">2</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb3-242"><a href="#cb3-242" aria-hidden="true" tabindex="-1"></a> <span class="dv">1790</span>  <span class="dv">1800</span>         <span class="dv">1</span>        <span class="dv">0</span>      <span class="dv">1</span>     <span class="fl">0.1522</span>    <span class="fl">0.0493</span>     <span class="fl">0.0715</span>    <span class="fl">0.2609</span></span>
<span id="cb3-243"><a href="#cb3-243" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb3-244"><a href="#cb3-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-245"><a href="#cb3-245" aria-hidden="true" tabindex="-1"></a>Durée pour differents quantiles de la fonction de survie</span>
<span id="cb3-246"><a href="#cb3-246" aria-hidden="true" tabindex="-1"></a>Définition des bornes Sas<span class="sc">-</span>lifetest</span>
<span id="cb3-247"><a href="#cb3-247" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.90</span><span class="sc">:</span> t<span class="ot">=</span>    <span class="fl">7.923</span></span>
<span id="cb3-248"><a href="#cb3-248" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.75</span><span class="sc">:</span> t<span class="ot">=</span>   <span class="fl">35.989</span></span>
<span id="cb3-249"><a href="#cb3-249" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.50</span><span class="sc">:</span> t<span class="ot">=</span>  <span class="fl">102.068</span></span>
<span id="cb3-250"><a href="#cb3-250" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.25</span><span class="sc">:</span> t<span class="ot">=</span>  <span class="fl">913.968</span></span>
<span id="cb3-251"><a href="#cb3-251" aria-hidden="true" tabindex="-1"></a><span class="fu">S</span>(t)<span class="ot">=</span><span class="fl">0.10</span><span class="sc">:</span> t<span class="ot">=</span>        .</span>
<span id="cb3-252"><a href="#cb3-252" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb3-253"><a href="#cb3-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-254"><a href="#cb3-254" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/Image7.png)</span>{width="70%"}</span>
<span id="cb3-255"><a href="#cb3-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-256"><a href="#cb3-256" aria-hidden="true" tabindex="-1"></a>102 jours après leur inscription dans le registre d'attente pour une</span>
<span id="cb3-257"><a href="#cb3-257" aria-hidden="true" tabindex="-1"></a>greffe, 50% des malades sont toujours en vie. Au bout de 914 jours, 75%</span>
<span id="cb3-258"><a href="#cb3-258" aria-hidden="true" tabindex="-1"></a>des personnes sont décédées.</span>
<span id="cb3-259"><a href="#cb3-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-260"><a href="#cb3-260" aria-hidden="true" tabindex="-1"></a><span class="fu"># **La méthode de Kaplan-Meier**</span></span>
<span id="cb3-261"><a href="#cb3-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-262"><a href="#cb3-262" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>L'approche qui exploite toute l'information disponible est celle</span>
<span id="cb3-263"><a href="#cb3-263" aria-hidden="true" tabindex="-1"></a>    dite de **Kaplan-Meier** (*KM*).</span>
<span id="cb3-264"><a href="#cb3-264" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Il y a autant d'intervalles que de durées où l'on observe au moins</span>
<span id="cb3-265"><a href="#cb3-265" aria-hidden="true" tabindex="-1"></a>    un évènement.</span>
<span id="cb3-266"><a href="#cb3-266" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Au lieu d'utiliser des intervalles prédéterminés, l'estimateur KM va</span>
<span id="cb3-267"><a href="#cb3-267" aria-hidden="true" tabindex="-1"></a>    définir un intervalle entre chaque évènement enregistré.</span>
<span id="cb3-268"><a href="#cb3-268" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>La fonction de survie estimée par la méthode KM est une fonction en</span>
<span id="cb3-269"><a href="#cb3-269" aria-hidden="true" tabindex="-1"></a>    escalier (stairstep), d'où une méthode dite "discrète".</span>
<span id="cb3-270"><a href="#cb3-270" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Pour chaque intervalle, on compte le nombe d'évènements et le nombre</span>
<span id="cb3-271"><a href="#cb3-271" aria-hidden="true" tabindex="-1"></a>    de censures.</span>
<span id="cb3-272"><a href="#cb3-272" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Méthode adaptée pour une mesure de la durée de type continue.</span>
<span id="cb3-273"><a href="#cb3-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-274"><a href="#cb3-274" aria-hidden="true" tabindex="-1"></a><span class="fu">## Estimation</span></span>
<span id="cb3-275"><a href="#cb3-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-276"><a href="#cb3-276" aria-hidden="true" tabindex="-1"></a>**Définition du Risk Set (**$r_i$)</span>
<span id="cb3-277"><a href="#cb3-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-278"><a href="#cb3-278" aria-hidden="true" tabindex="-1"></a>S'il y a à la fois des évènements et des censures à une durée $t_i$, les</span>
<span id="cb3-279"><a href="#cb3-279" aria-hidden="true" tabindex="-1"></a>observations censurées sont considérées comme exposées au risque à ce</span>
<span id="cb3-280"><a href="#cb3-280" aria-hidden="true" tabindex="-1"></a>moment, comme si elles étaient censurées très rapidement après. C'est la</span>
<span id="cb3-281"><a href="#cb3-281" aria-hidden="true" tabindex="-1"></a>principale caractéristique de cette méthode, appelé également</span>
<span id="cb3-282"><a href="#cb3-282" aria-hidden="true" tabindex="-1"></a>l'estimateur « product-limit »</span>
<span id="cb3-283"><a href="#cb3-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-284"><a href="#cb3-284" aria-hidden="true" tabindex="-1"></a>$$r_i=r_{i-1}-d_{i-1}-c_{i-1}$$\</span>
<span id="cb3-285"><a href="#cb3-285" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb3-286"><a href="#cb3-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-287"><a href="#cb3-287" aria-hidden="true" tabindex="-1"></a>**Calcul de** $q_i$\</span>
<span id="cb3-288"><a href="#cb3-288" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span> On applique la méthode de la section précédente avec:</span>
<span id="cb3-289"><a href="#cb3-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-290"><a href="#cb3-290" aria-hidden="true" tabindex="-1"></a>$$q_i=\frac{d_i}{r_{i-1}-d_{i-1}-c_{i-1}}$$</span>
<span id="cb3-291"><a href="#cb3-291" aria-hidden="true" tabindex="-1"></a>*Remarque*: la variance de l'estimateur est obtenu par la méthode dite de "Greenwood"". Il n'y a pas d'intérêt particulier pour ce cours de la décrire. </span>
<span id="cb3-292"><a href="#cb3-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-293"><a href="#cb3-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-294"><a href="#cb3-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-295"><a href="#cb3-295" aria-hidden="true" tabindex="-1"></a>**Récupération de la médiane**     </span>
<span id="cb3-296"><a href="#cb3-296" aria-hidden="true" tabindex="-1"></a>Il n'y a pas de méthode pour calculer directement la durée médiane (ou</span>
<span id="cb3-297"><a href="#cb3-297" aria-hidden="true" tabindex="-1"></a>tout autre quantile).     </span>
<span id="cb3-298"><a href="#cb3-298" aria-hidden="true" tabindex="-1"></a>On va prendre la valeur de la durée qui se situe juste "en dessous" de</span>
<span id="cb3-299"><a href="#cb3-299" aria-hidden="true" tabindex="-1"></a>50% de survivant.e.s. Elle est donc définie tel que $S(t)\leq0.5$. donc pas</span>
<span id="cb3-300"><a href="#cb3-300" aria-hidden="true" tabindex="-1"></a>de formule savante pour obtenir ce résultat, c'est une convention.</span>
<span id="cb3-301"><a href="#cb3-301" aria-hidden="true" tabindex="-1"></a>Attention, il n'est pas impossible que le % de survivant.e.s soit bien</span>
<span id="cb3-302"><a href="#cb3-302" aria-hidden="true" tabindex="-1"></a>en deçà de 50% pour l'obtention cette durée médiane.     </span>
<span id="cb3-303"><a href="#cb3-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-304"><a href="#cb3-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-305"><a href="#cb3-305" aria-hidden="true" tabindex="-1"></a><span class="fu">## R-Stata-Sas-Python</span></span>
<span id="cb3-306"><a href="#cb3-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-307"><a href="#cb3-307" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb3-308"><a href="#cb3-308" aria-hidden="true" tabindex="-1"></a><span class="fu">### R</span></span>
<span id="cb3-309"><a href="#cb3-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-310"><a href="#cb3-310" aria-hidden="true" tabindex="-1"></a>Les estimateurs sont obtenus avec fonction **`survfit`** de la librairie</span>
<span id="cb3-311"><a href="#cb3-311" aria-hidden="true" tabindex="-1"></a><span class="in">`survival`</span>. On peut obtenir des rendus graphiques supérieurs avec la</span>
<span id="cb3-312"><a href="#cb3-312" aria-hidden="true" tabindex="-1"></a>librairie <span class="in">`survminer`</span> (fonction <span class="in">`ggsurvplot`</span>)</span>
<span id="cb3-313"><a href="#cb3-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-314"><a href="#cb3-314" aria-hidden="true" tabindex="-1"></a><span class="fu">### Stata</span></span>
<span id="cb3-315"><a href="#cb3-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-316"><a href="#cb3-316" aria-hidden="true" tabindex="-1"></a>Après avoir appelé les variables de durée et de censure en mode</span>
<span id="cb3-317"><a href="#cb3-317" aria-hidden="true" tabindex="-1"></a>**survival** avec **`stset`**), le tableau des estimateurs est obtenu la</span>
<span id="cb3-318"><a href="#cb3-318" aria-hidden="true" tabindex="-1"></a>commande **`sts list`** et le graphique avec **`sts graph`**.</span>
<span id="cb3-319"><a href="#cb3-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-320"><a href="#cb3-320" aria-hidden="true" tabindex="-1"></a><span class="fu">### SAS</span></span>
<span id="cb3-321"><a href="#cb3-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-322"><a href="#cb3-322" aria-hidden="true" tabindex="-1"></a>L'estimation de Kaplan-Meier est affichée par défaut par la</span>
<span id="cb3-323"><a href="#cb3-323" aria-hidden="true" tabindex="-1"></a><span class="in">`proc lifetest`</span>.\</span>
<span id="cb3-324"><a href="#cb3-324" aria-hidden="true" tabindex="-1"></a>***Warning*** : le tableau affiché par SAS est particulièrement pénible</span>
<span id="cb3-325"><a href="#cb3-325" aria-hidden="true" tabindex="-1"></a>à lire voire illisible, en particulier lorsque le nombre de censures est</span>
<span id="cb3-326"><a href="#cb3-326" aria-hidden="true" tabindex="-1"></a>élevé, une ligne étant ajoutée pour chaque observation censurée. Je</span>
<span id="cb3-327"><a href="#cb3-327" aria-hidden="true" tabindex="-1"></a>conseille de ne pas afficher cette partie de l'output (se reporter à la</span>
<span id="cb3-328"><a href="#cb3-328" aria-hidden="true" tabindex="-1"></a>section SAS du chapitre programmation). On récupère pour le reste de</span>
<span id="cb3-329"><a href="#cb3-329" aria-hidden="true" tabindex="-1"></a>l'output les valeurs de la durée pour S(t) =(.75,.5,.25) ainsi que le</span>
<span id="cb3-330"><a href="#cb3-330" aria-hidden="true" tabindex="-1"></a>graphique, ce qui est suffisant.</span>
<span id="cb3-331"><a href="#cb3-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-332"><a href="#cb3-332" aria-hidden="true" tabindex="-1"></a><span class="fu">### Python</span></span>
<span id="cb3-333"><a href="#cb3-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-334"><a href="#cb3-334" aria-hidden="true" tabindex="-1"></a>Les resultats sont donnés dans la librairie <span class="in">`lifeline`</span> par des fonctions</span>
<span id="cb3-335"><a href="#cb3-335" aria-hidden="true" tabindex="-1"></a>dont le nom est interminable. Je conseille plutôt l'utilisation de la</span>
<span id="cb3-336"><a href="#cb3-336" aria-hidden="true" tabindex="-1"></a>librairie **`statmodels`** (se reporter à la section dédiée à Python).</span>
<span id="cb3-337"><a href="#cb3-337" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb3-338"><a href="#cb3-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-339"><a href="#cb3-339" aria-hidden="true" tabindex="-1"></a><span class="fu">## Application</span></span>
<span id="cb3-340"><a href="#cb3-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-341"><a href="#cb3-341" aria-hidden="true" tabindex="-1"></a>On reprend l'exemple précédent.</span>
<span id="cb3-342"><a href="#cb3-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-343"><a href="#cb3-343" aria-hidden="true" tabindex="-1"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb3-344"><a href="#cb3-344" aria-hidden="true" tabindex="-1"></a>Time    Total   Fail   Lost           Function     Error     [<span class="dv">95</span>% Conf. Int.]</span>
<span id="cb3-345"><a href="#cb3-345" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb3-346"><a href="#cb3-346" aria-hidden="true" tabindex="-1"></a>     <span class="dv">1</span>      <span class="dv">103</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.9903</span>    <span class="fl">0.0097</span>     <span class="fl">0.9331</span>    <span class="fl">0.9986</span></span>
<span id="cb3-347"><a href="#cb3-347" aria-hidden="true" tabindex="-1"></a>     <span class="dv">2</span>      <span class="dv">102</span>      <span class="dv">3</span>      <span class="dv">0</span>             <span class="fl">0.9612</span>    <span class="fl">0.0190</span>     <span class="fl">0.8998</span>    <span class="fl">0.9852</span></span>
<span id="cb3-348"><a href="#cb3-348" aria-hidden="true" tabindex="-1"></a>     <span class="dv">3</span>       <span class="dv">99</span>      <span class="dv">3</span>      <span class="dv">0</span>             <span class="fl">0.9320</span>    <span class="fl">0.0248</span>     <span class="fl">0.8627</span>    <span class="fl">0.9670</span></span>
<span id="cb3-349"><a href="#cb3-349" aria-hidden="true" tabindex="-1"></a>     <span class="dv">5</span>       <span class="dv">96</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.9126</span>    <span class="fl">0.0278</span>     <span class="fl">0.8388</span>    <span class="fl">0.9535</span></span>
<span id="cb3-350"><a href="#cb3-350" aria-hidden="true" tabindex="-1"></a>     <span class="dv">6</span>       <span class="dv">94</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.8932</span>    <span class="fl">0.0304</span>     <span class="fl">0.8155</span>    <span class="fl">0.9394</span></span>
<span id="cb3-351"><a href="#cb3-351" aria-hidden="true" tabindex="-1"></a>     <span class="dv">8</span>       <span class="dv">92</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8835</span>    <span class="fl">0.0316</span>     <span class="fl">0.8040</span>    <span class="fl">0.9321</span></span>
<span id="cb3-352"><a href="#cb3-352" aria-hidden="true" tabindex="-1"></a>     <span class="dv">9</span>       <span class="dv">91</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8738</span>    <span class="fl">0.0327</span>     <span class="fl">0.7926</span>    <span class="fl">0.9247</span></span>
<span id="cb3-353"><a href="#cb3-353" aria-hidden="true" tabindex="-1"></a>    <span class="dv">11</span>       <span class="dv">90</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.8738</span>    <span class="fl">0.0327</span>     <span class="fl">0.7926</span>    <span class="fl">0.9247</span></span>
<span id="cb3-354"><a href="#cb3-354" aria-hidden="true" tabindex="-1"></a>    <span class="dv">12</span>       <span class="dv">89</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8640</span>    <span class="fl">0.0338</span>     <span class="fl">0.7811</span>    <span class="fl">0.9171</span></span>
<span id="cb3-355"><a href="#cb3-355" aria-hidden="true" tabindex="-1"></a>    <span class="dv">16</span>       <span class="dv">88</span>      <span class="dv">3</span>      <span class="dv">0</span>             <span class="fl">0.8345</span>    <span class="fl">0.0367</span>     <span class="fl">0.7474</span>    <span class="fl">0.8937</span></span>
<span id="cb3-356"><a href="#cb3-356" aria-hidden="true" tabindex="-1"></a>    <span class="dv">17</span>       <span class="dv">85</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8247</span>    <span class="fl">0.0375</span>     <span class="fl">0.7363</span>    <span class="fl">0.8857</span></span>
<span id="cb3-357"><a href="#cb3-357" aria-hidden="true" tabindex="-1"></a>    <span class="dv">18</span>       <span class="dv">84</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.8149</span>    <span class="fl">0.0383</span>     <span class="fl">0.7253</span>    <span class="fl">0.8777</span></span>
<span id="cb3-358"><a href="#cb3-358" aria-hidden="true" tabindex="-1"></a>    <span class="dv">21</span>       <span class="dv">83</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.7952</span>    <span class="fl">0.0399</span>     <span class="fl">0.7034</span>    <span class="fl">0.8614</span></span>
<span id="cb3-359"><a href="#cb3-359" aria-hidden="true" tabindex="-1"></a>    <span class="dv">28</span>       <span class="dv">81</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7854</span>    <span class="fl">0.0406</span>     <span class="fl">0.6926</span>    <span class="fl">0.8531</span></span>
<span id="cb3-360"><a href="#cb3-360" aria-hidden="true" tabindex="-1"></a>    <span class="dv">30</span>       <span class="dv">80</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7756</span>    <span class="fl">0.0412</span>     <span class="fl">0.6819</span>    <span class="fl">0.8448</span></span>
<span id="cb3-361"><a href="#cb3-361" aria-hidden="true" tabindex="-1"></a>    <span class="dv">31</span>       <span class="dv">79</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.7756</span>    <span class="fl">0.0412</span>     <span class="fl">0.6819</span>    <span class="fl">0.8448</span></span>
<span id="cb3-362"><a href="#cb3-362" aria-hidden="true" tabindex="-1"></a>    <span class="dv">32</span>       <span class="dv">78</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7657</span>    <span class="fl">0.0419</span>     <span class="fl">0.6710</span>    <span class="fl">0.8363</span></span>
<span id="cb3-363"><a href="#cb3-363" aria-hidden="true" tabindex="-1"></a>    <span class="dv">35</span>       <span class="dv">77</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7557</span>    <span class="fl">0.0425</span>     <span class="fl">0.6603</span>    <span class="fl">0.8278</span></span>
<span id="cb3-364"><a href="#cb3-364" aria-hidden="true" tabindex="-1"></a>    <span class="dv">36</span>       <span class="dv">76</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7458</span>    <span class="fl">0.0431</span>     <span class="fl">0.6495</span>    <span class="fl">0.8192</span></span>
<span id="cb3-365"><a href="#cb3-365" aria-hidden="true" tabindex="-1"></a>    <span class="dv">37</span>       <span class="dv">75</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.7358</span>    <span class="fl">0.0436</span>     <span class="fl">0.6388</span>    <span class="fl">0.8106</span></span>
<span id="cb3-366"><a href="#cb3-366" aria-hidden="true" tabindex="-1"></a>    <span class="dv">39</span>       <span class="dv">74</span>      <span class="dv">1</span>      <span class="dv">1</span>             <span class="fl">0.7259</span>    <span class="fl">0.0442</span>     <span class="fl">0.6282</span>    <span class="fl">0.8019</span></span>
<span id="cb3-367"><a href="#cb3-367" aria-hidden="true" tabindex="-1"></a>    <span class="dv">40</span>       <span class="dv">72</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.7057</span>    <span class="fl">0.0452</span>     <span class="fl">0.6068</span>    <span class="fl">0.7842</span></span>
<span id="cb3-368"><a href="#cb3-368" aria-hidden="true" tabindex="-1"></a>    <span class="dv">43</span>       <span class="dv">70</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6956</span>    <span class="fl">0.0457</span>     <span class="fl">0.5961</span>    <span class="fl">0.7752</span></span>
<span id="cb3-369"><a href="#cb3-369" aria-hidden="true" tabindex="-1"></a>    <span class="dv">45</span>       <span class="dv">69</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6856</span>    <span class="fl">0.0461</span>     <span class="fl">0.5855</span>    <span class="fl">0.7662</span></span>
<span id="cb3-370"><a href="#cb3-370" aria-hidden="true" tabindex="-1"></a>    <span class="dv">50</span>       <span class="dv">68</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6755</span>    <span class="fl">0.0465</span>     <span class="fl">0.5750</span>    <span class="fl">0.7572</span></span>
<span id="cb3-371"><a href="#cb3-371" aria-hidden="true" tabindex="-1"></a>    <span class="dv">51</span>       <span class="dv">67</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6654</span>    <span class="fl">0.0469</span>     <span class="fl">0.5645</span>    <span class="fl">0.7481</span></span>
<span id="cb3-372"><a href="#cb3-372" aria-hidden="true" tabindex="-1"></a>    <span class="dv">53</span>       <span class="dv">66</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6553</span>    <span class="fl">0.0472</span>     <span class="fl">0.5541</span>    <span class="fl">0.7390</span></span>
<span id="cb3-373"><a href="#cb3-373" aria-hidden="true" tabindex="-1"></a>    <span class="dv">58</span>       <span class="dv">65</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6452</span>    <span class="fl">0.0476</span>     <span class="fl">0.5437</span>    <span class="fl">0.7298</span></span>
<span id="cb3-374"><a href="#cb3-374" aria-hidden="true" tabindex="-1"></a>    <span class="dv">61</span>       <span class="dv">64</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6352</span>    <span class="fl">0.0479</span>     <span class="fl">0.5333</span>    <span class="fl">0.7206</span></span>
<span id="cb3-375"><a href="#cb3-375" aria-hidden="true" tabindex="-1"></a>    <span class="dv">66</span>       <span class="dv">63</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.6251</span>    <span class="fl">0.0482</span>     <span class="fl">0.5230</span>    <span class="fl">0.7113</span></span>
<span id="cb3-376"><a href="#cb3-376" aria-hidden="true" tabindex="-1"></a>    <span class="dv">68</span>       <span class="dv">62</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.6049</span>    <span class="fl">0.0487</span>     <span class="fl">0.5026</span>    <span class="fl">0.6926</span></span>
<span id="cb3-377"><a href="#cb3-377" aria-hidden="true" tabindex="-1"></a>    <span class="dv">69</span>       <span class="dv">60</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5948</span>    <span class="fl">0.0489</span>     <span class="fl">0.4924</span>    <span class="fl">0.6832</span></span>
<span id="cb3-378"><a href="#cb3-378" aria-hidden="true" tabindex="-1"></a>    <span class="dv">72</span>       <span class="dv">59</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.5747</span>    <span class="fl">0.0493</span>     <span class="fl">0.4722</span>    <span class="fl">0.6643</span></span>
<span id="cb3-379"><a href="#cb3-379" aria-hidden="true" tabindex="-1"></a>    <span class="dv">77</span>       <span class="dv">57</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5646</span>    <span class="fl">0.0494</span>     <span class="fl">0.4621</span>    <span class="fl">0.6548</span></span>
<span id="cb3-380"><a href="#cb3-380" aria-hidden="true" tabindex="-1"></a>    <span class="dv">78</span>       <span class="dv">56</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5545</span>    <span class="fl">0.0496</span>     <span class="fl">0.4521</span>    <span class="fl">0.6453</span></span>
<span id="cb3-381"><a href="#cb3-381" aria-hidden="true" tabindex="-1"></a>    <span class="dv">80</span>       <span class="dv">55</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5444</span>    <span class="fl">0.0497</span>     <span class="fl">0.4422</span>    <span class="fl">0.6357</span></span>
<span id="cb3-382"><a href="#cb3-382" aria-hidden="true" tabindex="-1"></a>    <span class="dv">81</span>       <span class="dv">54</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5343</span>    <span class="fl">0.0498</span>     <span class="fl">0.4323</span>    <span class="fl">0.6261</span></span>
<span id="cb3-383"><a href="#cb3-383" aria-hidden="true" tabindex="-1"></a>    <span class="dv">85</span>       <span class="dv">53</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5243</span>    <span class="fl">0.0499</span>     <span class="fl">0.4224</span>    <span class="fl">0.6164</span></span>
<span id="cb3-384"><a href="#cb3-384" aria-hidden="true" tabindex="-1"></a>    <span class="dv">90</span>       <span class="dv">52</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5142</span>    <span class="fl">0.0499</span>     <span class="fl">0.4125</span>    <span class="fl">0.6067</span></span>
<span id="cb3-385"><a href="#cb3-385" aria-hidden="true" tabindex="-1"></a>    <span class="dv">96</span>       <span class="dv">51</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.5041</span>    <span class="fl">0.0499</span>     <span class="fl">0.4027</span>    <span class="fl">0.5969</span></span>
<span id="cb3-386"><a href="#cb3-386" aria-hidden="true" tabindex="-1"></a>   <span class="dv">100</span>       <span class="dv">50</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4940</span>    <span class="fl">0.0499</span>     <span class="fl">0.3930</span>    <span class="fl">0.5872</span></span>
<span id="cb3-387"><a href="#cb3-387" aria-hidden="true" tabindex="-1"></a>   <span class="dv">102</span>       <span class="dv">49</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4839</span>    <span class="fl">0.0499</span>     <span class="fl">0.3833</span>    <span class="fl">0.5773</span></span>
<span id="cb3-388"><a href="#cb3-388" aria-hidden="true" tabindex="-1"></a>   <span class="dv">109</span>       <span class="dv">48</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.4839</span>    <span class="fl">0.0499</span>     <span class="fl">0.3833</span>    <span class="fl">0.5773</span></span>
<span id="cb3-389"><a href="#cb3-389" aria-hidden="true" tabindex="-1"></a>   <span class="dv">110</span>       <span class="dv">47</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4736</span>    <span class="fl">0.0499</span>     <span class="fl">0.3733</span>    <span class="fl">0.5673</span></span>
<span id="cb3-390"><a href="#cb3-390" aria-hidden="true" tabindex="-1"></a>   <span class="dv">131</span>       <span class="dv">46</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.4736</span>    <span class="fl">0.0499</span>     <span class="fl">0.3733</span>    <span class="fl">0.5673</span></span>
<span id="cb3-391"><a href="#cb3-391" aria-hidden="true" tabindex="-1"></a>   <span class="dv">149</span>       <span class="dv">45</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4631</span>    <span class="fl">0.0499</span>     <span class="fl">0.3632</span>    <span class="fl">0.5571</span></span>
<span id="cb3-392"><a href="#cb3-392" aria-hidden="true" tabindex="-1"></a>   <span class="dv">153</span>       <span class="dv">44</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4526</span>    <span class="fl">0.0499</span>     <span class="fl">0.3531</span>    <span class="fl">0.5468</span></span>
<span id="cb3-393"><a href="#cb3-393" aria-hidden="true" tabindex="-1"></a>   <span class="dv">165</span>       <span class="dv">43</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4421</span>    <span class="fl">0.0498</span>     <span class="fl">0.3430</span>    <span class="fl">0.5364</span></span>
<span id="cb3-394"><a href="#cb3-394" aria-hidden="true" tabindex="-1"></a>   <span class="dv">180</span>       <span class="dv">42</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.4421</span>    <span class="fl">0.0498</span>     <span class="fl">0.3430</span>    <span class="fl">0.5364</span></span>
<span id="cb3-395"><a href="#cb3-395" aria-hidden="true" tabindex="-1"></a>   <span class="dv">186</span>       <span class="dv">41</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4313</span>    <span class="fl">0.0497</span>     <span class="fl">0.3327</span>    <span class="fl">0.5258</span></span>
<span id="cb3-396"><a href="#cb3-396" aria-hidden="true" tabindex="-1"></a>   <span class="dv">188</span>       <span class="dv">40</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4205</span>    <span class="fl">0.0497</span>     <span class="fl">0.3225</span>    <span class="fl">0.5152</span></span>
<span id="cb3-397"><a href="#cb3-397" aria-hidden="true" tabindex="-1"></a>   <span class="dv">207</span>       <span class="dv">39</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.4097</span>    <span class="fl">0.0495</span>     <span class="fl">0.3123</span>    <span class="fl">0.5045</span></span>
<span id="cb3-398"><a href="#cb3-398" aria-hidden="true" tabindex="-1"></a>   <span class="dv">219</span>       <span class="dv">38</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3989</span>    <span class="fl">0.0494</span>     <span class="fl">0.3022</span>    <span class="fl">0.4938</span></span>
<span id="cb3-399"><a href="#cb3-399" aria-hidden="true" tabindex="-1"></a>   <span class="dv">263</span>       <span class="dv">37</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3881</span>    <span class="fl">0.0492</span>     <span class="fl">0.2921</span>    <span class="fl">0.4830</span></span>
<span id="cb3-400"><a href="#cb3-400" aria-hidden="true" tabindex="-1"></a>   <span class="dv">265</span>       <span class="dv">36</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3881</span>    <span class="fl">0.0492</span>     <span class="fl">0.2921</span>    <span class="fl">0.4830</span></span>
<span id="cb3-401"><a href="#cb3-401" aria-hidden="true" tabindex="-1"></a>   <span class="dv">285</span>       <span class="dv">35</span>      <span class="dv">2</span>      <span class="dv">0</span>             <span class="fl">0.3660</span>    <span class="fl">0.0488</span>     <span class="fl">0.2714</span>    <span class="fl">0.4608</span></span>
<span id="cb3-402"><a href="#cb3-402" aria-hidden="true" tabindex="-1"></a>   <span class="dv">308</span>       <span class="dv">33</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3549</span>    <span class="fl">0.0486</span>     <span class="fl">0.2612</span>    <span class="fl">0.4496</span></span>
<span id="cb3-403"><a href="#cb3-403" aria-hidden="true" tabindex="-1"></a>   <span class="dv">334</span>       <span class="dv">32</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3438</span>    <span class="fl">0.0483</span>     <span class="fl">0.2510</span>    <span class="fl">0.4383</span></span>
<span id="cb3-404"><a href="#cb3-404" aria-hidden="true" tabindex="-1"></a>   <span class="dv">340</span>       <span class="dv">31</span>      <span class="dv">1</span>      <span class="dv">1</span>             <span class="fl">0.3327</span>    <span class="fl">0.0480</span>     <span class="fl">0.2409</span>    <span class="fl">0.4270</span></span>
<span id="cb3-405"><a href="#cb3-405" aria-hidden="true" tabindex="-1"></a>   <span class="dv">342</span>       <span class="dv">29</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-406"><a href="#cb3-406" aria-hidden="true" tabindex="-1"></a>   <span class="dv">370</span>       <span class="dv">28</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-407"><a href="#cb3-407" aria-hidden="true" tabindex="-1"></a>   <span class="dv">397</span>       <span class="dv">27</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-408"><a href="#cb3-408" aria-hidden="true" tabindex="-1"></a>   <span class="dv">427</span>       <span class="dv">26</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-409"><a href="#cb3-409" aria-hidden="true" tabindex="-1"></a>   <span class="dv">445</span>       <span class="dv">25</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-410"><a href="#cb3-410" aria-hidden="true" tabindex="-1"></a>   <span class="dv">482</span>       <span class="dv">24</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-411"><a href="#cb3-411" aria-hidden="true" tabindex="-1"></a>   <span class="dv">515</span>       <span class="dv">23</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-412"><a href="#cb3-412" aria-hidden="true" tabindex="-1"></a>   <span class="dv">545</span>       <span class="dv">22</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3212</span>    <span class="fl">0.0477</span>     <span class="fl">0.2305</span>    <span class="fl">0.4153</span></span>
<span id="cb3-413"><a href="#cb3-413" aria-hidden="true" tabindex="-1"></a>   <span class="dv">583</span>       <span class="dv">21</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb3-414"><a href="#cb3-414" aria-hidden="true" tabindex="-1"></a>   <span class="dv">596</span>       <span class="dv">20</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb3-415"><a href="#cb3-415" aria-hidden="true" tabindex="-1"></a>   <span class="dv">620</span>       <span class="dv">19</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb3-416"><a href="#cb3-416" aria-hidden="true" tabindex="-1"></a>   <span class="dv">670</span>       <span class="dv">18</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.3059</span>    <span class="fl">0.0478</span>     <span class="fl">0.2156</span>    <span class="fl">0.4008</span></span>
<span id="cb3-417"><a href="#cb3-417" aria-hidden="true" tabindex="-1"></a>   <span class="dv">675</span>       <span class="dv">17</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2879</span>    <span class="fl">0.0483</span>     <span class="fl">0.1976</span>    <span class="fl">0.3844</span></span>
<span id="cb3-418"><a href="#cb3-418" aria-hidden="true" tabindex="-1"></a>   <span class="dv">733</span>       <span class="dv">16</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2699</span>    <span class="fl">0.0485</span>     <span class="fl">0.1802</span>    <span class="fl">0.3676</span></span>
<span id="cb3-419"><a href="#cb3-419" aria-hidden="true" tabindex="-1"></a>   <span class="dv">841</span>       <span class="dv">15</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.2699</span>    <span class="fl">0.0485</span>     <span class="fl">0.1802</span>    <span class="fl">0.3676</span></span>
<span id="cb3-420"><a href="#cb3-420" aria-hidden="true" tabindex="-1"></a>   <span class="dv">852</span>       <span class="dv">14</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2507</span>    <span class="fl">0.0487</span>     <span class="fl">0.1616</span>    <span class="fl">0.3497</span></span>
<span id="cb3-421"><a href="#cb3-421" aria-hidden="true" tabindex="-1"></a>   <span class="dv">915</span>       <span class="dv">13</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.2507</span>    <span class="fl">0.0487</span>     <span class="fl">0.1616</span>    <span class="fl">0.3497</span></span>
<span id="cb3-422"><a href="#cb3-422" aria-hidden="true" tabindex="-1"></a>   <span class="dv">941</span>       <span class="dv">12</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.2507</span>    <span class="fl">0.0487</span>     <span class="fl">0.1616</span>    <span class="fl">0.3497</span></span>
<span id="cb3-423"><a href="#cb3-423" aria-hidden="true" tabindex="-1"></a>   <span class="dv">979</span>       <span class="dv">11</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2279</span>    <span class="fl">0.0493</span>     <span class="fl">0.1394</span>    <span class="fl">0.3295</span></span>
<span id="cb3-424"><a href="#cb3-424" aria-hidden="true" tabindex="-1"></a>   <span class="dv">995</span>       <span class="dv">10</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.2051</span>    <span class="fl">0.0494</span>     <span class="fl">0.1183</span>    <span class="fl">0.3085</span></span>
<span id="cb3-425"><a href="#cb3-425" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1032</span>        <span class="dv">9</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.1823</span>    <span class="fl">0.0489</span>     <span class="fl">0.0985</span>    <span class="fl">0.2865</span></span>
<span id="cb3-426"><a href="#cb3-426" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1141</span>        <span class="dv">8</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1823</span>    <span class="fl">0.0489</span>     <span class="fl">0.0985</span>    <span class="fl">0.2865</span></span>
<span id="cb3-427"><a href="#cb3-427" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1321</span>        <span class="dv">7</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1823</span>    <span class="fl">0.0489</span>     <span class="fl">0.0985</span>    <span class="fl">0.2865</span></span>
<span id="cb3-428"><a href="#cb3-428" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1386</span>        <span class="dv">6</span>      <span class="dv">1</span>      <span class="dv">0</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb3-429"><a href="#cb3-429" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1400</span>        <span class="dv">5</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb3-430"><a href="#cb3-430" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1407</span>        <span class="dv">4</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb3-431"><a href="#cb3-431" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1571</span>        <span class="dv">3</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb3-432"><a href="#cb3-432" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1586</span>        <span class="dv">2</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb3-433"><a href="#cb3-433" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1799</span>        <span class="dv">1</span>      <span class="dv">0</span>      <span class="dv">1</span>             <span class="fl">0.1519</span>    <span class="fl">0.0493</span>     <span class="fl">0.0713</span>    <span class="fl">0.2606</span></span>
<span id="cb3-434"><a href="#cb3-434" aria-hidden="true" tabindex="-1"></a><span class="sc">-------------------------------------------------------------------------------</span></span>
<span id="cb3-435"><a href="#cb3-435" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb3-436"><a href="#cb3-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-437"><a href="#cb3-437" aria-hidden="true" tabindex="-1"></a>Durée médiane: $t=100$ (correspond à $S(t)=0.4940$).</span>
<span id="cb3-438"><a href="#cb3-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-439"><a href="#cb3-439" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/Image8.png)</span>{width="80%"}</span>
<span id="cb3-440"><a href="#cb3-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-441"><a href="#cb3-441" aria-hidden="true" tabindex="-1"></a><span class="fu"># Quantités associées</span></span>
<span id="cb3-442"><a href="#cb3-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-443"><a href="#cb3-443" aria-hidden="true" tabindex="-1"></a>A partir de l'estimateur Kaplan-Meier..</span>
<span id="cb3-444"><a href="#cb3-444" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb3-445"><a href="#cb3-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-446"><a href="#cb3-446" aria-hidden="true" tabindex="-1"></a>**Le risque cumulé**: estimateur de Nelson AAlen\</span>
<span id="cb3-447"><a href="#cb3-447" aria-hidden="true" tabindex="-1"></a>Il est simplément égal à: $$H(t)=\sum_{t_i\leq k}q(t_i)$$</span>
<span id="cb3-448"><a href="#cb3-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-449"><a href="#cb3-449" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/Image19.png)</span>{width="70%"}</span>
<span id="cb3-450"><a href="#cb3-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-451"><a href="#cb3-451" aria-hidden="true" tabindex="-1"></a>**Le risque instantané**\</span>
<span id="cb3-452"><a href="#cb3-452" aria-hidden="true" tabindex="-1"></a>Nécessite l'estimateur de Nelson-Aalen. Le risque est obtenu en lissant</span>
<span id="cb3-453"><a href="#cb3-453" aria-hidden="true" tabindex="-1"></a>les différences - toujours positive - entre $H(t)$ par la méthode dite</span>
<span id="cb3-454"><a href="#cb3-454" aria-hidden="true" tabindex="-1"></a>du **kernel**. Elle permet d'obtenir une fonction continue avec la durée</span>
<span id="cb3-455"><a href="#cb3-455" aria-hidden="true" tabindex="-1"></a>(paramétrables sur les largeurs des fenêtres de lissage). D'autres</span>
<span id="cb3-456"><a href="#cb3-456" aria-hidden="true" tabindex="-1"></a>méthodes de lissage sont maintenant possibles, et de plus en plus</span>
<span id="cb3-457"><a href="#cb3-457" aria-hidden="true" tabindex="-1"></a>utilisées, en particulier celles utilisant des splines.</span>
<span id="cb3-458"><a href="#cb3-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-459"><a href="#cb3-459" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/Image20.png)</span>{width="70%"}</span>
<span id="cb3-460"><a href="#cb3-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-461"><a href="#cb3-461" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb3-462"><a href="#cb3-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-463"><a href="#cb3-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-464"><a href="#cb3-464" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">Marc Thévenin - Ined-Sms - Octobre 2022</div>
  </div>
</footer>



</body></html>